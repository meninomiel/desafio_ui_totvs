import { __decorate, __metadata } from "tslib";
import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean, convertToInt } from '../../utils/util';
import { PoProgressStatus } from './enums/po-progress-status.enum';
const poProgressMaxValue = 100;
const poProgressMinValue = 0;
/**
 * @description
 *
 * Componente de barra de progresso que possibilita exibir visualmente o progresso/carregamento de uma tarefa.
 *
 * Este componente pode ser utilizado no *upload* de arquivos, uma atualização no sistema ou o processamento de uma imagem.
 */
let PoProgressBaseComponent = class PoProgressBaseComponent {
    constructor() {
        this._value = 0;
        /**
         * @optional
         *
         * @description
         *
         * Status da barra de progresso que indicará visualmente ao usuário
         * o andamento, por exemplo, se a mesma foi concluída com sucesso.
         *
         * @default `PoProgressStatus.Default`
         */
        this.status = PoProgressStatus.Default;
        /**
         * @optional
         *
         * @description
         *
         * Evento que será disparado ao clicar no ícone de cancelamento ("x") na parte inferior da barra de progresso.
         *
         * Ao ser disparado, a função receberá como parâmetro o status atual da barra de progresso.
         *
         * > Se nenhuma função for passada para o evento ou a barra de progresso estiver com o status `PoProgressStatus.Success`,
         * o ícone de cancelamento não será exibido.
         */
        this.cancel = new EventEmitter();
        /**
         * @optional
         *
         * @description
         *
         * Evento que será disparado ao clicar no ícone de tentar novamente na parte inferior da barra de progresso.
         *
         * > o ícone será exibido apenas se informar uma função neste evento e o status da barra de progresso for
         * `PoProgressStatus.Error`.
         */
        this.retry = new EventEmitter();
    }
    /**
     * @optional
     *
     * @description
     *
     * Habilita o modo indeterminado na barra de progresso, que mostra uma animação fixa sem um valor estabelecido.
     *
     * Esta opção pode ser utilizada quando não souber quanto tempo levará para que um processo seja concluído.
     *
     * > Caso esta propriedade e a `p-value` seja habilitada, a propriedade `p-value` será ignorada.
     *
     * @default `false`
     */
    set indeterminate(indeterminate) {
        this._indeterminate = convertToBoolean(indeterminate);
    }
    get indeterminate() {
        return this._indeterminate;
    }
    /**
     * @optional
     *
     * @description
     *
     * Valor que representará o progresso.
     *
     * > Os valores aceitos são números inteiros de `0` à `100`.
     *
     * @default `0`
     */
    set value(value) {
        const integerValue = convertToInt(value, poProgressMinValue);
        const isProgressRangeValue = this.isProgressRangeValue(integerValue);
        this._value = isProgressRangeValue ? integerValue : poProgressMinValue;
    }
    get value() {
        return this._value;
    }
    isProgressRangeValue(value) {
        return value >= poProgressMinValue && value <= poProgressMaxValue;
    }
};
__decorate([
    Input('p-indeterminate'),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [Boolean])
], PoProgressBaseComponent.prototype, "indeterminate", null);
__decorate([
    Input('p-info'),
    __metadata("design:type", String)
], PoProgressBaseComponent.prototype, "info", void 0);
__decorate([
    Input('p-info-icon'),
    __metadata("design:type", String)
], PoProgressBaseComponent.prototype, "infoIcon", void 0);
__decorate([
    Input('p-status'),
    __metadata("design:type", String)
], PoProgressBaseComponent.prototype, "status", void 0);
__decorate([
    Input('p-text'),
    __metadata("design:type", String)
], PoProgressBaseComponent.prototype, "text", void 0);
__decorate([
    Input('p-value'),
    __metadata("design:type", Number),
    __metadata("design:paramtypes", [Number])
], PoProgressBaseComponent.prototype, "value", null);
__decorate([
    Output('p-cancel'),
    __metadata("design:type", EventEmitter)
], PoProgressBaseComponent.prototype, "cancel", void 0);
__decorate([
    Output('p-retry'),
    __metadata("design:type", EventEmitter)
], PoProgressBaseComponent.prototype, "retry", void 0);
PoProgressBaseComponent = __decorate([
    Directive()
], PoProgressBaseComponent);
export { PoProgressBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcHJvZ3Jlc3MtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXByb2dyZXNzL3BvLXByb2dyZXNzLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVsRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUVuRSxNQUFNLGtCQUFrQixHQUFHLEdBQUcsQ0FBQztBQUMvQixNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQztBQUU3Qjs7Ozs7O0dBTUc7QUFFSCxJQUFhLHVCQUF1QixHQUFwQyxNQUFhLHVCQUF1QjtJQUFwQztRQUVVLFdBQU0sR0FBWSxDQUFDLENBQUM7UUEyQzVCOzs7Ozs7Ozs7V0FTRztRQUNnQixXQUFNLEdBQXFCLGdCQUFnQixDQUFDLE9BQU8sQ0FBQztRQWlDdkU7Ozs7Ozs7Ozs7O1dBV0c7UUFDaUIsV0FBTSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRW5FOzs7Ozs7Ozs7V0FTRztRQUNnQixVQUFLLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7SUFLbkUsQ0FBQztJQWpIQzs7Ozs7Ozs7Ozs7O09BWUc7SUFDdUIsSUFBSSxhQUFhLENBQUMsYUFBc0I7UUFDaEUsSUFBSSxDQUFDLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzdCLENBQUM7SUEyQ0Q7Ozs7Ozs7Ozs7T0FVRztJQUNlLElBQUksS0FBSyxDQUFDLEtBQWE7UUFDdkMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLEtBQUssRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzdELE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRXJFLElBQUksQ0FBQyxNQUFNLEdBQUcsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUM7SUFDekUsQ0FBQztJQUVELElBQUksS0FBSztRQUNQLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBNEJPLG9CQUFvQixDQUFDLEtBQWE7UUFDeEMsT0FBTyxLQUFLLElBQUksa0JBQWtCLElBQUksS0FBSyxJQUFJLGtCQUFrQixDQUFDO0lBQ3BFLENBQUM7Q0FDRixDQUFBO0FBcEcyQjtJQUF6QixLQUFLLENBQUMsaUJBQWlCLENBQUM7Ozs0REFFeEI7QUFhZ0I7SUFBaEIsS0FBSyxDQUFDLFFBQVEsQ0FBQzs7cURBQWU7QUFXVDtJQUFyQixLQUFLLENBQUMsYUFBYSxDQUFDOzt5REFBbUI7QUFZckI7SUFBbEIsS0FBSyxDQUFDLFVBQVUsQ0FBQzs7dURBQXFEO0FBU3REO0lBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7O3FEQUFlO0FBYWI7SUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQzs7O29EQUtoQjtBQWtCbUI7SUFBbkIsTUFBTSxDQUFDLFVBQVUsQ0FBQzs4QkFBUyxZQUFZO3VEQUEyQjtBQVloRDtJQUFsQixNQUFNLENBQUMsU0FBUyxDQUFDOzhCQUFRLFlBQVk7c0RBQTJCO0FBaEh0RCx1QkFBdUI7SUFEbkMsU0FBUyxFQUFFO0dBQ0MsdUJBQXVCLENBcUhuQztTQXJIWSx1QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuLCBjb252ZXJ0VG9JbnQgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9Qcm9ncmVzc1N0YXR1cyB9IGZyb20gJy4vZW51bXMvcG8tcHJvZ3Jlc3Mtc3RhdHVzLmVudW0nO1xuXG5jb25zdCBwb1Byb2dyZXNzTWF4VmFsdWUgPSAxMDA7XG5jb25zdCBwb1Byb2dyZXNzTWluVmFsdWUgPSAwO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgZGUgYmFycmEgZGUgcHJvZ3Jlc3NvIHF1ZSBwb3NzaWJpbGl0YSBleGliaXIgdmlzdWFsbWVudGUgbyBwcm9ncmVzc28vY2FycmVnYW1lbnRvIGRlIHVtYSB0YXJlZmEuXG4gKlxuICogRXN0ZSBjb21wb25lbnRlIHBvZGUgc2VyIHV0aWxpemFkbyBubyAqdXBsb2FkKiBkZSBhcnF1aXZvcywgdW1hIGF0dWFsaXphw6fDo28gbm8gc2lzdGVtYSBvdSBvIHByb2Nlc3NhbWVudG8gZGUgdW1hIGltYWdlbS5cbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9Qcm9ncmVzc0Jhc2VDb21wb25lbnQge1xuICBwcml2YXRlIF9pbmRldGVybWluYXRlPzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfdmFsdWU/OiBudW1iZXIgPSAwO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEhhYmlsaXRhIG8gbW9kbyBpbmRldGVybWluYWRvIG5hIGJhcnJhIGRlIHByb2dyZXNzbywgcXVlIG1vc3RyYSB1bWEgYW5pbWHDp8OjbyBmaXhhIHNlbSB1bSB2YWxvciBlc3RhYmVsZWNpZG8uXG4gICAqXG4gICAqIEVzdGEgb3DDp8OjbyBwb2RlIHNlciB1dGlsaXphZGEgcXVhbmRvIG7Do28gc291YmVyIHF1YW50byB0ZW1wbyBsZXZhcsOhIHBhcmEgcXVlIHVtIHByb2Nlc3NvIHNlamEgY29uY2x1w61kby5cbiAgICpcbiAgICogPiBDYXNvIGVzdGEgcHJvcHJpZWRhZGUgZSBhIGBwLXZhbHVlYCBzZWphIGhhYmlsaXRhZGEsIGEgcHJvcHJpZWRhZGUgYHAtdmFsdWVgIHNlcsOhIGlnbm9yYWRhLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaW5kZXRlcm1pbmF0ZScpIHNldCBpbmRldGVybWluYXRlKGluZGV0ZXJtaW5hdGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9pbmRldGVybWluYXRlID0gY29udmVydFRvQm9vbGVhbihpbmRldGVybWluYXRlKTtcbiAgfVxuXG4gIGdldCBpbmRldGVybWluYXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pbmRldGVybWluYXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSW5mb3JtYcOnw6NvIGFkaWNpb25hbCBxdWUgYXBhcmVjZXLDoSBhYmFpeG8gZGEgYmFycmEgZGUgcHJvZ3Jlc3NvIGFvIGxhZG8gZGlyZWl0by5cbiAgICovXG4gIEBJbnB1dCgncC1pbmZvJykgaW5mbz86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiDDjWNvbmUgcXVlIGFwYXJlY2Vyw6EgYW8gbGFkbyBkbyB0ZXh0byBkYSBwcm9wcmllZGFkZSBgcC1pbmZvYC5cbiAgICpcbiAgICogRXhlbXBsbzogYHBvLWljb24tb2tgLlxuICAgKi9cbiAgQElucHV0KCdwLWluZm8taWNvbicpIGluZm9JY29uPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFN0YXR1cyBkYSBiYXJyYSBkZSBwcm9ncmVzc28gcXVlIGluZGljYXLDoSB2aXN1YWxtZW50ZSBhbyB1c3XDoXJpb1xuICAgKiBvIGFuZGFtZW50bywgcG9yIGV4ZW1wbG8sIHNlIGEgbWVzbWEgZm9pIGNvbmNsdcOtZGEgY29tIHN1Y2Vzc28uXG4gICAqXG4gICAqIEBkZWZhdWx0IGBQb1Byb2dyZXNzU3RhdHVzLkRlZmF1bHRgXG4gICAqL1xuICBASW5wdXQoJ3Atc3RhdHVzJykgc3RhdHVzOiBQb1Byb2dyZXNzU3RhdHVzID0gUG9Qcm9ncmVzc1N0YXR1cy5EZWZhdWx0O1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFRleHRvIHByaW5jaXBhbCBxdWUgYXBhcmVjZXLDoSBhYmFpeG8gZGEgYmFycmEgZGUgcHJvZ3Jlc3NvIG5vIGxhZG8gZXNxdWVyZG8uXG4gICAqL1xuICBASW5wdXQoJ3AtdGV4dCcpIHRleHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVmFsb3IgcXVlIHJlcHJlc2VudGFyw6EgbyBwcm9ncmVzc28uXG4gICAqXG4gICAqID4gT3MgdmFsb3JlcyBhY2VpdG9zIHPDo28gbsO6bWVyb3MgaW50ZWlyb3MgZGUgYDBgIMOgIGAxMDBgLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgMGBcbiAgICovXG4gIEBJbnB1dCgncC12YWx1ZScpIHNldCB2YWx1ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgaW50ZWdlclZhbHVlID0gY29udmVydFRvSW50KHZhbHVlLCBwb1Byb2dyZXNzTWluVmFsdWUpO1xuICAgIGNvbnN0IGlzUHJvZ3Jlc3NSYW5nZVZhbHVlID0gdGhpcy5pc1Byb2dyZXNzUmFuZ2VWYWx1ZShpbnRlZ2VyVmFsdWUpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSBpc1Byb2dyZXNzUmFuZ2VWYWx1ZSA/IGludGVnZXJWYWx1ZSA6IHBvUHJvZ3Jlc3NNaW5WYWx1ZTtcbiAgfVxuXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBFdmVudG8gcXVlIHNlcsOhIGRpc3BhcmFkbyBhbyBjbGljYXIgbm8gw61jb25lIGRlIGNhbmNlbGFtZW50byAoXCJ4XCIpIG5hIHBhcnRlIGluZmVyaW9yIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogQW8gc2VyIGRpc3BhcmFkbywgYSBmdW7Dp8OjbyByZWNlYmVyw6EgY29tbyBwYXLDom1ldHJvIG8gc3RhdHVzIGF0dWFsIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogPiBTZSBuZW5odW1hIGZ1bsOnw6NvIGZvciBwYXNzYWRhIHBhcmEgbyBldmVudG8gb3UgYSBiYXJyYSBkZSBwcm9ncmVzc28gZXN0aXZlciBjb20gbyBzdGF0dXMgYFBvUHJvZ3Jlc3NTdGF0dXMuU3VjY2Vzc2AsXG4gICAqIG8gw61jb25lIGRlIGNhbmNlbGFtZW50byBuw6NvIHNlcsOhIGV4aWJpZG8uXG4gICAqL1xuICBAT3V0cHV0KCdwLWNhbmNlbCcpIGNhbmNlbDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIHF1ZSBzZXLDoSBkaXNwYXJhZG8gYW8gY2xpY2FyIG5vIMOtY29uZSBkZSB0ZW50YXIgbm92YW1lbnRlIG5hIHBhcnRlIGluZmVyaW9yIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogPiBvIMOtY29uZSBzZXLDoSBleGliaWRvIGFwZW5hcyBzZSBpbmZvcm1hciB1bWEgZnVuw6fDo28gbmVzdGUgZXZlbnRvIGUgbyBzdGF0dXMgZGEgYmFycmEgZGUgcHJvZ3Jlc3NvIGZvclxuICAgKiBgUG9Qcm9ncmVzc1N0YXR1cy5FcnJvcmAuXG4gICAqL1xuICBAT3V0cHV0KCdwLXJldHJ5JykgcmV0cnk6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgaXNQcm9ncmVzc1JhbmdlVmFsdWUodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2YWx1ZSA+PSBwb1Byb2dyZXNzTWluVmFsdWUgJiYgdmFsdWUgPD0gcG9Qcm9ncmVzc01heFZhbHVlO1xuICB9XG59XG4iXX0=