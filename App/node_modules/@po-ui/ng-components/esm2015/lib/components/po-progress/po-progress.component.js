import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { PoProgressBaseComponent } from './po-progress-base.component';
import { PoProgressStatus } from './enums/po-progress-status.enum';
/**
 * @docsExtends PoProgressBaseComponent
 *
 * @example
 * <example name="po-progress-basic" title="PO Progress Basic">
 *   <file name="sample-po-progress-basic/sample-po-progress-basic.component.html"> </file>
 *   <file name="sample-po-progress-basic/sample-po-progress-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-progress-labs" title="PO Progress Labs">
 *   <file name="sample-po-progress-labs/sample-po-progress-labs.component.html"> </file>
 *   <file name="sample-po-progress-labs/sample-po-progress-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-progress-publication" title="PO Progress - Publication">
 *   <file name="sample-po-progress-publication/sample-po-progress-publication.component.html"> </file>
 *   <file name="sample-po-progress-publication/sample-po-progress-publication.component.ts"> </file>
 * </example>
 */
let PoProgressComponent = class PoProgressComponent extends PoProgressBaseComponent {
    get isAllowCancel() {
        return !!this.cancel.observers.length && this.status !== PoProgressStatus.Success;
    }
    get isAllowProgressInfo() {
        return !!(this.info || this.infoIcon || this.isAllowCancel || this.isAllowRetry);
    }
    get isAllowRetry() {
        return !!this.retry.observers.length && this.status === PoProgressStatus.Error;
    }
    get statusClass() {
        if (this.status === PoProgressStatus.Success) {
            return 'po-progress-success';
        }
        if (this.status === PoProgressStatus.Error) {
            return 'po-progress-error';
        }
        return 'po-progress-default';
    }
    emitCancellation() {
        this.cancel.emit(this.status);
    }
    emitRetry() {
        this.retry.emit();
    }
};
PoProgressComponent = __decorate([
    Component({
        selector: 'po-progress',
        template: "<div class=\"po-progress\" [ngClass]=\"statusClass\">\n  <label *ngIf=\"text\" class=\"po-progress-description-mobile po-progress-description-text\">\n    {{ text }}\n  </label>\n\n  <po-progress-bar class=\"po-progress-bar\" [p-indeterminate]=\"indeterminate\" [p-value]=\"value\"> </po-progress-bar>\n\n  <div *ngIf=\"text\" class=\"po-progress-description\">\n    <label class=\"po-progress-description-text\">\n      {{ text }}\n    </label>\n  </div>\n\n  <div *ngIf=\"isAllowProgressInfo\" class=\"po-progress-info\">\n    <span *ngIf=\"infoIcon\" class=\"po-progress-info-icon po-icon {{ infoIcon }}\"></span>\n    <span *ngIf=\"info\" class=\"po-progress-info-text\">{{ info }}</span>\n\n    <button\n      *ngIf=\"isAllowRetry\"\n      class=\"po-progress-info-icon-action po-icon po-icon-refresh po-clickable\"\n      (click)=\"emitRetry()\"\n    ></button>\n\n    <button\n      *ngIf=\"isAllowCancel\"\n      class=\"po-progress-info-icon-action po-icon po-icon-close po-clickable\"\n      (click)=\"emitCancellation()\"\n    ></button>\n  </div>\n</div>\n",
        changeDetection: ChangeDetectionStrategy.OnPush
    })
], PoProgressComponent);
export { PoProgressComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcHJvZ3Jlc3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvLXVpL25nLWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby1wcm9ncmVzcy9wby1wcm9ncmVzcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbkUsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDdkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFFbkU7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQU1ILElBQWEsbUJBQW1CLEdBQWhDLE1BQWEsbUJBQW9CLFNBQVEsdUJBQXVCO0lBQzlELElBQUksYUFBYTtRQUNmLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLGdCQUFnQixDQUFDLE9BQU8sQ0FBQztJQUNwRixDQUFDO0lBRUQsSUFBSSxtQkFBbUI7UUFDckIsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQUVELElBQUksWUFBWTtRQUNkLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLGdCQUFnQixDQUFDLEtBQUssQ0FBQztJQUNqRixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ2IsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtZQUM1QyxPQUFPLHFCQUFxQixDQUFDO1NBQzlCO1FBRUQsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLGdCQUFnQixDQUFDLEtBQUssRUFBRTtZQUMxQyxPQUFPLG1CQUFtQixDQUFDO1NBQzVCO1FBRUQsT0FBTyxxQkFBcUIsQ0FBQztJQUMvQixDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0NBQ0YsQ0FBQTtBQWhDWSxtQkFBbUI7SUFML0IsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLGFBQWE7UUFDdkIsd2pDQUEyQztRQUMzQyxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtLQUNoRCxDQUFDO0dBQ1csbUJBQW1CLENBZ0MvQjtTQWhDWSxtQkFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvUHJvZ3Jlc3NCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9wby1wcm9ncmVzcy1iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb1Byb2dyZXNzU3RhdHVzIH0gZnJvbSAnLi9lbnVtcy9wby1wcm9ncmVzcy1zdGF0dXMuZW51bSc7XG5cbi8qKlxuICogQGRvY3NFeHRlbmRzIFBvUHJvZ3Jlc3NCYXNlQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wcm9ncmVzcy1iYXNpY1wiIHRpdGxlPVwiUE8gUHJvZ3Jlc3MgQmFzaWNcIj5cbiAqICAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wcm9ncmVzcy1iYXNpYy9zYW1wbGUtcG8tcHJvZ3Jlc3MtYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXByb2dyZXNzLWJhc2ljL3NhbXBsZS1wby1wcm9ncmVzcy1iYXNpYy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wcm9ncmVzcy1sYWJzXCIgdGl0bGU9XCJQTyBQcm9ncmVzcyBMYWJzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcHJvZ3Jlc3MtbGFicy9zYW1wbGUtcG8tcHJvZ3Jlc3MtbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcHJvZ3Jlc3MtbGFicy9zYW1wbGUtcG8tcHJvZ3Jlc3MtbGFicy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wcm9ncmVzcy1wdWJsaWNhdGlvblwiIHRpdGxlPVwiUE8gUHJvZ3Jlc3MgLSBQdWJsaWNhdGlvblwiPlxuICogICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXByb2dyZXNzLXB1YmxpY2F0aW9uL3NhbXBsZS1wby1wcm9ncmVzcy1wdWJsaWNhdGlvbi5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcHJvZ3Jlc3MtcHVibGljYXRpb24vc2FtcGxlLXBvLXByb2dyZXNzLXB1YmxpY2F0aW9uLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXByb2dyZXNzJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXByb2dyZXNzLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgUG9Qcm9ncmVzc0NvbXBvbmVudCBleHRlbmRzIFBvUHJvZ3Jlc3NCYXNlQ29tcG9uZW50IHtcbiAgZ2V0IGlzQWxsb3dDYW5jZWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5jYW5jZWwub2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLnN0YXR1cyAhPT0gUG9Qcm9ncmVzc1N0YXR1cy5TdWNjZXNzO1xuICB9XG5cbiAgZ2V0IGlzQWxsb3dQcm9ncmVzc0luZm8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKHRoaXMuaW5mbyB8fCB0aGlzLmluZm9JY29uIHx8IHRoaXMuaXNBbGxvd0NhbmNlbCB8fCB0aGlzLmlzQWxsb3dSZXRyeSk7XG4gIH1cblxuICBnZXQgaXNBbGxvd1JldHJ5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMucmV0cnkub2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLnN0YXR1cyA9PT0gUG9Qcm9ncmVzc1N0YXR1cy5FcnJvcjtcbiAgfVxuXG4gIGdldCBzdGF0dXNDbGFzcygpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gUG9Qcm9ncmVzc1N0YXR1cy5TdWNjZXNzKSB7XG4gICAgICByZXR1cm4gJ3BvLXByb2dyZXNzLXN1Y2Nlc3MnO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gUG9Qcm9ncmVzc1N0YXR1cy5FcnJvcikge1xuICAgICAgcmV0dXJuICdwby1wcm9ncmVzcy1lcnJvcic7XG4gICAgfVxuXG4gICAgcmV0dXJuICdwby1wcm9ncmVzcy1kZWZhdWx0JztcbiAgfVxuXG4gIGVtaXRDYW5jZWxsYXRpb24oKSB7XG4gICAgdGhpcy5jYW5jZWwuZW1pdCh0aGlzLnN0YXR1cyk7XG4gIH1cblxuICBlbWl0UmV0cnkoKSB7XG4gICAgdGhpcy5yZXRyeS5lbWl0KCk7XG4gIH1cbn1cbiJdfQ==