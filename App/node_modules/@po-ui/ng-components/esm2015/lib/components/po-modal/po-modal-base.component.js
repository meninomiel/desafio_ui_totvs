import { __decorate, __metadata } from "tslib";
import { Input, EventEmitter, Directive } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
/**
 * @description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado. Também é possível definir o botão com o tipo *danger*.
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
let PoModalBaseComponent = class PoModalBaseComponent {
    constructor() {
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        this.clickOut = false;
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
    }
    /**
     * Define o tamanho da modal.
     *
     * Valores válidos:
     *  - `sm` (pequeno)
     *  - `md` (médio)
     *  - `lg` (grande)
     *  - `xl` (extra grande)
     *  - `auto` (automático)
     *
     * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
     * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
     *
     * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
     */
    set size(value) {
        const sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
        this._size = sizes.indexOf(value) > -1 ? value : 'md';
    }
    get size() {
        return this._size;
    }
    set setClickOut(value) {
        this.clickOut = value === '' ? false : convertToBoolean(value);
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta o ícone de fechar do cabeçalho da modal.
     *
     * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
     *
     * @default `false`
     */
    set hideClose(value) {
        this._hideClose = convertToBoolean(value);
    }
    get hideClose() {
        return this._hideClose;
    }
    /** Função para fechar a modal. */
    close(xClosed = false) {
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    }
    /** Função para abrir a modal. */
    open() {
        this.validPrimaryAction();
        this.isHidden = false;
    }
    validPrimaryAction() {
        if (!this.primaryAction) {
            this.primaryAction = {
                action: () => this.close(),
                label: 'Ok'
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = () => this.close();
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = 'Ok';
        }
    }
};
__decorate([
    Input('p-title'),
    __metadata("design:type", String)
], PoModalBaseComponent.prototype, "title", void 0);
__decorate([
    Input('p-primary-action'),
    __metadata("design:type", Object)
], PoModalBaseComponent.prototype, "primaryAction", void 0);
__decorate([
    Input('p-secondary-action'),
    __metadata("design:type", Object)
], PoModalBaseComponent.prototype, "secondaryAction", void 0);
__decorate([
    Input('p-size'),
    __metadata("design:type", String),
    __metadata("design:paramtypes", [String])
], PoModalBaseComponent.prototype, "size", null);
__decorate([
    Input('p-click-out'),
    __metadata("design:type", Object),
    __metadata("design:paramtypes", [Object])
], PoModalBaseComponent.prototype, "setClickOut", null);
__decorate([
    Input('p-hide-close'),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [Boolean])
], PoModalBaseComponent.prototype, "hideClose", null);
PoModalBaseComponent = __decorate([
    Directive()
], PoModalBaseComponent);
export { PoModalBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLW1vZGFsL3BvLW1vZGFsLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0QsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHdEQ7Ozs7Ozs7Ozs7Ozs7O0dBY0c7QUFFSCxJQUFhLG9CQUFvQixHQUFqQyxNQUFhLG9CQUFvQjtJQUFqQztRQUNVLGVBQVUsR0FBYSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFZLElBQUksQ0FBQztRQXVDOUI7OztXQUdHO1FBQ0gsYUFBUSxHQUFhLEtBQUssQ0FBQztRQXdCM0Isa0VBQWtFO1FBQ2xFLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFFaEIsd0RBQXdEO1FBQ2pELGNBQVMsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO0lBZ0NqRCxDQUFDO0lBeEZDOzs7Ozs7Ozs7Ozs7OztPQWNHO0lBQ2MsSUFBSSxJQUFJLENBQUMsS0FBYTtRQUNyQyxNQUFNLEtBQUssR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3hELENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQU9xQixJQUFJLFdBQVcsQ0FBQyxLQUF1QjtRQUMzRCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDb0IsSUFBSSxTQUFTLENBQUMsS0FBYztRQUNqRCxJQUFJLENBQUMsVUFBVSxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQVFELGtDQUFrQztJQUNsQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7UUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxPQUFPLEVBQUU7WUFDWCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCxpQ0FBaUM7SUFDakMsSUFBSTtRQUNGLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBRTFCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDdkIsSUFBSSxDQUFDLGFBQWEsR0FBRztnQkFDbkIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQzFCLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQztTQUNIO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDbkQ7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNoQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQztTQUNwQztJQUNILENBQUM7Q0FDRixDQUFBO0FBcEdtQjtJQUFqQixLQUFLLENBQUMsU0FBUyxDQUFDOzttREFBZTtBQU9MO0lBQTFCLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQzs7MkRBQStCO0FBRzVCO0lBQTVCLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQzs7NkRBQWlDO0FBaUI1QztJQUFoQixLQUFLLENBQUMsUUFBUSxDQUFDOzs7Z0RBR2Y7QUFXcUI7SUFBckIsS0FBSyxDQUFDLGFBQWEsQ0FBQzs7O3VEQUVwQjtBQWFzQjtJQUF0QixLQUFLLENBQUMsY0FBYyxDQUFDOzs7cURBRXJCO0FBL0RVLG9CQUFvQjtJQURoQyxTQUFTLEVBQUU7R0FDQyxvQkFBb0IsQ0F5R2hDO1NBekdZLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0LCBFdmVudEVtaXR0ZXIsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCB7IFBvTW9kYWxBY3Rpb24gfSBmcm9tICcuL3BvLW1vZGFsLWFjdGlvbi5pbnRlcmZhY2UnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gY29tcG9uZW50ZSBgcG8tbW9kYWxgIMOpIHV0aWxpemFkbyBwYXJhIGluY2x1aXIgY29udGXDumRvcyByw6FwaWRvcyBlIGluZm9ybWF0aXZvcy5cbiAqXG4gKiBObyBjYWJlw6dhbGhvIGRvIGNvbXBvbmVudGUgw6kgcG9zc8OtdmVsIGRlZmluaXIgdW0gdMOtdHVsbyBlIGNvbW8gdGFtYsOpbSBwZXJtaXRlIG9jdWx0YXIgbyDDrWNvbmUgZGUgZmVjaGFtZW50byBkYSBtb2RhbC5cbiAqXG4gKiBFbSBzZXUgY29ycG8gw6kgcG9zc8OtdmVsIGRlZmluaXIgdW0gY29udGXDumRvIGluZm9ybWF0aXZvLCBwb2RlbmRvIHV0aWxpemFyIGNvbXBvbmVudGVzIGNvbW8gcG9yIGV4ZW1wbG8gYHBvLWNoYXJ0YCxcbiAqIGBwby10YWJsZWAgZSBvcyBkZW1haXMgY29tcG9uZW50ZXMgZG8gUE8uXG4gKlxuICogTm8gcm9kYXDDqSBlbmNvbnRyYW0tc2Ugb3MgYm90w7VlcyBkZSBhw6fDo28gcHJpbcOhcmlhIGUgc2VjdW5kw6FyaWEsIG5vIHF1YWwgcGVybWl0ZW0gZGVmaW5pciB1bWEgYcOnw6NvIGUgdW0gcsOzdHVsbywgYmVtIGNvbW9cbiAqIGRlZmluaXIgdW0gZXN0YWRvIGRlIGNhcnJlZ2FuZG8gZSAvIG91IGRlc2FiaWxpdGFkby4gVGFtYsOpbSDDqSBwb3Nzw612ZWwgZGVmaW5pciBvIGJvdMOjbyBjb20gbyB0aXBvICpkYW5nZXIqLlxuICpcbiAqID4gw4kgcG9zc8OtdmVsIGZlY2hhciBhIG1vZGFsIGF0cmF2w6lzIGRhIHRlY2xhICpFU0MqLCBxdWFuZG8gYSBwcm9wcmllZGFkZSBgcC1oaWRlLWNsb3NlYCBuw6NvIGVzdGl2ZXIgaGFiaWxpdGFkYS5cbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9Nb2RhbEJhc2VDb21wb25lbnQge1xuICBwcml2YXRlIF9oaWRlQ2xvc2U/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3NpemU/OiBzdHJpbmcgPSAnbWQnO1xuXG4gIC8qKiBUw610dWxvIGRhIG1vZGFsLiAqL1xuICBASW5wdXQoJ3AtdGl0bGUnKSB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBEZXZlIHNlciBkZWZpbmlkbyB1bSBvYmpldG8gcXVlIGltcGxlbWVudGEgYSBpbnRlcmZhY2UgYFBvTW9kYWxBY3Rpb25gIGNvbnRlbmRvIGEgbGFiZWwgZSBhIGZ1bsOnw6NvIGRhIHByaW1laXJhIGHDp8Ojby5cbiAgICogQ2FzbyBlc3RhIHByb3ByaWVkYWRlIG7Do28gc2VqYSBkZWZpbmlkYSBvdSBlc3RlamEgaW5jb21wbGV0YSwgYXV0b21hdGljYW1lbnRlIHNlcsOhIGFkaWNpb25hZG8gdW0gYm90w6NvIGRlIGHDp8OjbyBjb21cbiAgICogYSBmdW7Dp8OjbyBkZSBmZWNoYXIgYSBtb2RhbC5cbiAgICovXG4gIEBJbnB1dCgncC1wcmltYXJ5LWFjdGlvbicpIHByaW1hcnlBY3Rpb24/OiBQb01vZGFsQWN0aW9uO1xuXG4gIC8qKiBEZXZlIHNlciBkZWZpbmlkbyB1bSBvYmpldG8gcXVlIGltcGxlbWVudGEgYSBpbnRlcmZhY2UgYFBvTW9kYWxBY3Rpb25gIGNvbnRlbmRvIGEgbGFiZWwgZSBhIGZ1bsOnw6NvIGRhIHNlZ3VuZGEgYcOnw6NvLiAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWFjdGlvbicpIHNlY29uZGFyeUFjdGlvbj86IFBvTW9kYWxBY3Rpb247XG5cbiAgLyoqXG4gICAqIERlZmluZSBvIHRhbWFuaG8gZGEgbW9kYWwuXG4gICAqXG4gICAqIFZhbG9yZXMgdsOhbGlkb3M6XG4gICAqICAtIGBzbWAgKHBlcXVlbm8pXG4gICAqICAtIGBtZGAgKG3DqWRpbylcbiAgICogIC0gYGxnYCAoZ3JhbmRlKVxuICAgKiAgLSBgeGxgIChleHRyYSBncmFuZGUpXG4gICAqICAtIGBhdXRvYCAoYXV0b23DoXRpY28pXG4gICAqXG4gICAqID4gUXVhbmRvIGluZm9ybWFkbyBgYXV0b2AgYSBtb2RhbCBjYWxjdWxhcsOhIGF1dG9tYXRpY2FtZW50ZSBzZXUgdGFtYW5obyBiYXNlYWRvIGVtIHNldSBjb250ZcO6ZG8uXG4gICAqIENhc28gbsOjbyBzZWphIGluZm9ybWFkbyB1bSB2YWxvciwgYSBtb2RhbCB0ZXLDoSBvIHRhbWFuaG8gZGVmaW5pZG8gY29tbyBgbWRgLlxuICAgKlxuICAgKiA+IFRvZGFzIGFzIG9ww6fDtWVzIGRlIHRhbWFuaG8gcG9zc3VlbSB1bWEgbGFyZ3VyYSBtw6F4aW1hIGRlICoqNzY4cHgqKi5cbiAgICovXG4gIEBJbnB1dCgncC1zaXplJykgc2V0IHNpemUodmFsdWU6IHN0cmluZykge1xuICAgIGNvbnN0IHNpemVzID0gWydzbScsICdtZCcsICdsZycsICd4bCcsICdhdXRvJ107XG4gICAgdGhpcy5fc2l6ZSA9IHNpemVzLmluZGV4T2YodmFsdWUpID4gLTEgPyB2YWx1ZSA6ICdtZCc7XG4gIH1cblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgbyBmZWNoYW1lbnRvIGRhIG1vZGFsIGFvIGNsaWNhciBmb3JhIGRhIG1lc21hLlxuICAgKiBJbmZvcm1lIG8gdmFsb3IgYHRydWVgIHBhcmEgYXRpdmFyIG8gZmVjaGFtZW50byBhbyBjbGljYXIgZm9yYSBkYSBtb2RhbC5cbiAgICovXG4gIGNsaWNrT3V0PzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3AtY2xpY2stb3V0Jykgc2V0IHNldENsaWNrT3V0KHZhbHVlOiBib29sZWFuIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jbGlja091dCA9IHZhbHVlID09PSAnJyA/IGZhbHNlIDogY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPY3VsdGEgbyDDrWNvbmUgZGUgZmVjaGFyIGRvIGNhYmXDp2FsaG8gZGEgbW9kYWwuXG4gICAqXG4gICAqID4gQ2FzbyBhIHByb3ByaWVkYWRlIGVzdGl2ZXIgaGFiaWxpdGFkYSwgbsOjbyBzZXLDoSBwb3Nzw612ZWwgZmVjaGFyIGEgbW9kYWwgYXRyYXbDqXMgZGEgdGVjbGEgKkVTQyouXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1oaWRlLWNsb3NlJykgc2V0IGhpZGVDbG9zZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2hpZGVDbG9zZSA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGhpZGVDbG9zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGlkZUNsb3NlO1xuICB9XG5cbiAgLy8gQ29udHJvbGEgc2UgYSBtb2RhbCBmaWNhIG9jdWx0byBvdSB2aXPDrXZlbCwgcG9yIHBhZHLDo28gw6kgb2N1bHRvXG4gIGlzSGlkZGVuID0gdHJ1ZTtcblxuICAvLyBFdmVudCBlbW1pdGVyIHBhcmEgcXVhbmRvIGEgbW9kYWwgw6kgZmVjaGFkYSBwZWxvICdYJy5cbiAgcHVibGljIG9uWENsb3NlZCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAvKiogRnVuw6fDo28gcGFyYSBmZWNoYXIgYSBtb2RhbC4gKi9cbiAgY2xvc2UoeENsb3NlZCA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgaWYgKHhDbG9zZWQpIHtcbiAgICAgIHRoaXMub25YQ2xvc2VkLmVtaXQoeENsb3NlZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEZ1bsOnw6NvIHBhcmEgYWJyaXIgYSBtb2RhbC4gKi9cbiAgb3BlbigpOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkUHJpbWFyeUFjdGlvbigpO1xuXG4gICAgdGhpcy5pc0hpZGRlbiA9IGZhbHNlO1xuICB9XG5cbiAgdmFsaWRQcmltYXJ5QWN0aW9uKCkge1xuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgICBsYWJlbDogJ09rJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvblsnYWN0aW9uJ10pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvblsnYWN0aW9uJ10gPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uWydsYWJlbCddKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb25bJ2xhYmVsJ10gPSAnT2snO1xuICAgIH1cbiAgfVxufVxuIl19