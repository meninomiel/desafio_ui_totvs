import { __decorate, __metadata } from "tslib";
import { Component, ElementRef, Input, ViewChild } from '@angular/core';
import { isIEOrEdge } from '../../../utils/util';
import { PoSlideContentTemplateDirective } from '../directives/po-slide-content-template.directive';
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para cada item do po-slide.
 */
let PoSlideItemComponent = class PoSlideItemComponent {
    constructor() {
        this.isIEOrEdge = isIEOrEdge();
    }
    setLinkType() {
        if (!this.template && this.link) {
            return this.link.startsWith('http') ? 'externalLink' : 'internalLink';
        }
        return 'noLink';
    }
};
__decorate([
    ViewChild('slideItem', { static: true }),
    __metadata("design:type", ElementRef)
], PoSlideItemComponent.prototype, "itemElement", void 0);
__decorate([
    Input('p-action'),
    __metadata("design:type", Function)
], PoSlideItemComponent.prototype, "action", void 0);
__decorate([
    Input('p-alt'),
    __metadata("design:type", String)
], PoSlideItemComponent.prototype, "alt", void 0);
__decorate([
    Input('p-data'),
    __metadata("design:type", Array)
], PoSlideItemComponent.prototype, "data", void 0);
__decorate([
    Input('p-image'),
    __metadata("design:type", String)
], PoSlideItemComponent.prototype, "image", void 0);
__decorate([
    Input('p-image-height'),
    __metadata("design:type", Number)
], PoSlideItemComponent.prototype, "imageHeight", void 0);
__decorate([
    Input('p-template'),
    __metadata("design:type", PoSlideContentTemplateDirective)
], PoSlideItemComponent.prototype, "template", void 0);
__decorate([
    Input('p-link'),
    __metadata("design:type", String)
], PoSlideItemComponent.prototype, "link", void 0);
PoSlideItemComponent = __decorate([
    Component({
        selector: 'po-slide-item',
        template: "<div\n  #slideItem\n  class=\"po-slide-item\"\n  [class.po-slide-item-background-image]=\"!template && isIEOrEdge\"\n  [style.background-image]=\"!template && isIEOrEdge ? 'url(' + image + ')' : ''\"\n  [ngSwitch]=\"setLinkType()\"\n>\n  <!-- slide com link interno -->\n  <a *ngSwitchCase=\"'internalLink'\" class=\"po-slide-item-link\" [routerLink]=\"link\">\n    <ng-container [ngTemplateOutlet]=\"slideItemImage\" [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image } }\">\n    </ng-container>\n  </a>\n  <!-- slide com link externo -->\n  <a *ngSwitchCase=\"'externalLink'\" class=\"po-slide-item-link\" [href]=\"link\">\n    <ng-container [ngTemplateOutlet]=\"slideItemImage\" [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image } }\">\n    </ng-container>\n  </a>\n  <!-- slide sem link -->\n  <a\n    *ngSwitchCase=\"'noLink'\"\n    [ngClass]=\"action ? 'po-slide-item-link' : 'po-slide-item-no-link'\"\n    (click)=\"action ? action(data) : undefined\"\n  >\n    <ng-container\n      [ngTemplateOutlet]=\"template ? slideItemTemplate : slideItemImage\"\n      [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image, data: data } }\"\n    >\n    </ng-container>\n  </a>\n</div>\n\n<ng-template #slideItemTemplate let-item=\"item\" ; let-index=\"index\">\n  <div *ngIf=\"template\" class=\"po-slide-item-content\">\n    <ng-template\n      [ngTemplateOutlet]=\"template.templateRef\"\n      [ngTemplateOutletContext]=\"{ $implicit: item.data, index: index }\"\n    >\n    </ng-template>\n  </div>\n</ng-template>\n\n<ng-template #slideItemImage let-item=\"item\">\n  <img\n    *ngIf=\"item.image && !isIEOrEdge\"\n    class=\"po-slide-image\"\n    [alt]=\"item.alt\"\n    [src]=\"item.image\"\n    [style.height.px]=\"imageHeight\"\n  />\n</ng-template>\n"
    })
], PoSlideItemComponent);
export { PoSlideItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc2xpZGUtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXNsaWRlL3BvLXNsaWRlLWl0ZW0vcG8tc2xpZGUtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWpELE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBRXBHOzs7Ozs7R0FNRztBQUtILElBQWEsb0JBQW9CLEdBQWpDLE1BQWEsb0JBQW9CO0lBQWpDO1FBR0UsZUFBVSxHQUFRLFVBQVUsRUFBRSxDQUFDO0lBOEJqQyxDQUFDO0lBUEMsV0FBVztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDL0IsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUM7U0FDdkU7UUFFRCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0NBQ0YsQ0FBQTtBQWhDMkM7SUFBekMsU0FBUyxDQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQzs4QkFBYyxVQUFVO3lEQUFDO0FBSy9DO0lBQWxCLEtBQUssQ0FBQyxVQUFVLENBQUM7OEJBQVMsUUFBUTtvREFBQztBQUdwQjtJQUFmLEtBQUssQ0FBQyxPQUFPLENBQUM7O2lEQUFhO0FBR1g7SUFBaEIsS0FBSyxDQUFDLFFBQVEsQ0FBQzs4QkFBTyxLQUFLO2tEQUFNO0FBR2hCO0lBQWpCLEtBQUssQ0FBQyxTQUFTLENBQUM7O21EQUFlO0FBR1A7SUFBeEIsS0FBSyxDQUFDLGdCQUFnQixDQUFDOzt5REFBcUI7QUFHeEI7SUFBcEIsS0FBSyxDQUFDLFlBQVksQ0FBQzs4QkFBVywrQkFBK0I7c0RBQUM7QUFHOUM7SUFBaEIsS0FBSyxDQUFDLFFBQVEsQ0FBQzs7a0RBQWM7QUF4Qm5CLG9CQUFvQjtJQUpoQyxTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsZUFBZTtRQUN6Qixzd0RBQTZDO0tBQzlDLENBQUM7R0FDVyxvQkFBb0IsQ0FpQ2hDO1NBakNZLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBpc0lFT3JFZGdlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbCc7XG5cbmltcG9ydCB7IFBvU2xpZGVDb250ZW50VGVtcGxhdGVEaXJlY3RpdmUgfSBmcm9tICcuLi9kaXJlY3RpdmVzL3BvLXNsaWRlLWNvbnRlbnQtdGVtcGxhdGUuZGlyZWN0aXZlJztcblxuLyoqXG4gKiBAZG9jc1ByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb21wb25lbnRlIHBhcmEgY2FkYSBpdGVtIGRvIHBvLXNsaWRlLlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1zbGlkZS1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXNsaWRlLWl0ZW0uY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvU2xpZGVJdGVtQ29tcG9uZW50IHtcbiAgQFZpZXdDaGlsZCgnc2xpZGVJdGVtJywgeyBzdGF0aWM6IHRydWUgfSkgaXRlbUVsZW1lbnQ6IEVsZW1lbnRSZWY7XG5cbiAgaXNJRU9yRWRnZTogYW55ID0gaXNJRU9yRWRnZSgpO1xuXG4gIC8qKiBBw6fDo28gZXhlY3V0YWRhIGFvIGNsaWNhciBlbSB1bWEgaW1hZ2VtICovXG4gIEBJbnB1dCgncC1hY3Rpb24nKSBhY3Rpb246IEZ1bmN0aW9uO1xuXG4gIC8qKiBUZXh0byBhbHRlcm5hdGl2byBxdWFuZG8gYSBpbWFnZW0gbsOjbyDDqSBlbmNvbnRyYWRhICovXG4gIEBJbnB1dCgncC1hbHQnKSBhbHQ6IHN0cmluZztcblxuICAvKiogRGFkb3MgcGFyYSBvIHRlbXBsYXRlIGN1c3RvbWl6YWRvICovXG4gIEBJbnB1dCgncC1kYXRhJykgZGF0YTogQXJyYXk8YW55PjtcblxuICAvKiogQ2FtaW5obyBkYSBpbWFnZW0gKi9cbiAgQElucHV0KCdwLWltYWdlJykgaW1hZ2U6IHN0cmluZztcblxuICAvKiogQWx0dXJhIGRhIGltYWdlbSAqL1xuICBASW5wdXQoJ3AtaW1hZ2UtaGVpZ2h0JykgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcblxuICAvKiogVGVtcGxhdGUgY3VzdG9taXphZG8gKi9cbiAgQElucHV0KCdwLXRlbXBsYXRlJykgdGVtcGxhdGU6IFBvU2xpZGVDb250ZW50VGVtcGxhdGVEaXJlY3RpdmU7XG5cbiAgLyoqIExpbmsgZXhlY3V0YWRvIGFvIGNsaWNhciBlbSB1bWEgaW1hZ2VtICovXG4gIEBJbnB1dCgncC1saW5rJykgbGluazogc3RyaW5nO1xuXG4gIHNldExpbmtUeXBlKCkge1xuICAgIGlmICghdGhpcy50ZW1wbGF0ZSAmJiB0aGlzLmxpbmspIHtcbiAgICAgIHJldHVybiB0aGlzLmxpbmsuc3RhcnRzV2l0aCgnaHR0cCcpID8gJ2V4dGVybmFsTGluaycgOiAnaW50ZXJuYWxMaW5rJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ25vTGluayc7XG4gIH1cbn1cbiJdfQ==