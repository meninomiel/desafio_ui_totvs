import { __decorate, __metadata } from "tslib";
import { ElementRef, Input, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PO_CONTROL_POSITIONS } from './../../services/po-control-position/po-control-position.constants';
const poPopupDefaultPosition = 'bottom-left';
/**
 * @description
 *
 * O componente `po-popup` é um container pequeno recomendado para ações de navegação:
 * Ele abre sobreposto aos outros componentes.
 *
 * É possível escolher as posições do `po-popup` em relação ao componente alvo, para isto veja a propriedade `p-position`.
 *
 * Também é possível informar um _template_ _header_ para o `po-popup`, que será exibido acima das ações.
 * Para funcionar corretamente é preciso adicionar a propriedade `p-popup-header-template` no elemento que servirá de template, por exemplo:
 *
 * ```
 * <po-popup [p-target]="target">
 *   <div p-popup-header-template>
 *     <div>
 *       Dev PO
 *     </div>
 *     <div>
 *       dev.po@po-ui.com.br
 *     </div>
 *   </div>
 * </po-popup >
 * ```
 */
let PoPopupBaseComponent = class PoPopupBaseComponent {
    constructor() {
        this._hideArrow = false;
        this._isCornerAlign = false;
        this._position = poPopupDefaultPosition;
        this.arrowDirection = 'top-right';
        this.showPopup = false;
    }
    /** Lista de ações que serão exibidas no componente. */
    set actions(value) {
        this._actions = Array.isArray(value) ? value : [];
    }
    get actions() {
        return this._actions;
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta a seta do componente *popup*.
     *
     * @default `false`
     */
    set hideArrow(value) {
        this._hideArrow = convertToBoolean(value);
    }
    get hideArrow() {
        return this._hideArrow;
    }
    // Define se o `po-popup` será alinhado pelos cantos do elemento target.
    set isCornerAlign(value) {
        this._isCornerAlign = convertToBoolean(value);
    }
    get isCornerAlign() {
        return this._isCornerAlign;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define a posição inicial que o `po-popup` abrirá em relação ao componente alvo. Sugere-se que seja
     * usada a orientação `bottom-left` (abaixo e a esquerda), porém o mesmo é flexível e será rotacionado
     * automaticamente para se adequar a tela, caso necessário.
     *
     * > Caso seja definido um `p-custom-positions` o componente irá abrir na posição definida na propriedade `p-position`
     * e caso não caiba na posição inicial ele irá rotacionar seguindo a ordem de posições definidas no `p-custom-positions`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     *
     * @default `bottom-left`
     */
    set position(value) {
        this._position = PO_CONTROL_POSITIONS.includes(value) ? value : poPopupDefaultPosition;
    }
    get position() {
        return this._position;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define as posições e a sequência que o `po-popup` poderá rotacionar. A sequência será definida pela ordem passada
     * no *array*. Caso não seja definido, o `po-popup` irá rotacionar em todas as posições válidas.
     *
     * > O componente sempre irá abrir na posição definida no `p-position` e caso não caiba na posição definida o mesmo
     * irá rotacionar seguindo a ordem definida pelo `p-custom-position`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     */
    set customPositions(value) {
        this._customPositions = Array.isArray(value) ? value : [];
    }
    get customPositions() {
        return this._customPositions;
    }
    /**
     * @description
     *
     * Para utilizar o `po-popup` deve-se colocar uma variável local no componente que disparará o evento
     * de abertura no mesmo e com isso, invocará a função `toggle`, por exemplo:
     *
     * ```
     * <span #icon class="po-icon po-icon-credit-payment" (click)="popup.toggle()">
     *   Credit Actions
     * </span>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="icon">
     * </po-popup>
     * ```
     *
     * Caso o elemento alvo for um componente, será preciso obter o `ElementRef` do mesmo e passá-lo à propriedade, por exemplo:
     *
     * ```
     * // component.html
     *
     * <po-button #poButton
     *   p-label="Open Popover"
     *   (p-click)="popup.toggle()">
     * </po-button>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="poButtonRef">
     * </po-popup>
     *
     * // component.ts
     *
     * @ViewChild('poButton', { read: ElementRef }) poButtonRef: ElementRef;
     * ```
     */
    set target(value) {
        this._target = value instanceof ElementRef ? value.nativeElement : value;
    }
    get target() {
        return this._target;
    }
};
__decorate([
    Input('p-actions'),
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [Array])
], PoPopupBaseComponent.prototype, "actions", null);
__decorate([
    Input('p-hide-arrow'),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [Boolean])
], PoPopupBaseComponent.prototype, "hideArrow", null);
__decorate([
    Input('p-is-corner-align'),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [Boolean])
], PoPopupBaseComponent.prototype, "isCornerAlign", null);
__decorate([
    Input('p-position'),
    __metadata("design:type", String),
    __metadata("design:paramtypes", [String])
], PoPopupBaseComponent.prototype, "position", null);
__decorate([
    Input('p-custom-positions'),
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [Array])
], PoPopupBaseComponent.prototype, "customPositions", null);
__decorate([
    Input('p-target'),
    __metadata("design:type", Object),
    __metadata("design:paramtypes", [Object])
], PoPopupBaseComponent.prototype, "target", null);
PoPopupBaseComponent = __decorate([
    Directive()
], PoPopupBaseComponent);
export { PoPopupBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcG9wdXAtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXBvcHVwL3BvLXBvcHVwLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFN0QsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFJMUcsTUFBTSxzQkFBc0IsR0FBRyxhQUFhLENBQUM7QUFFN0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBdUJHO0FBRUgsSUFBYSxvQkFBb0IsR0FBakMsTUFBYSxvQkFBb0I7SUFBakM7UUFHVSxlQUFVLEdBQVksS0FBSyxDQUFDO1FBQzVCLG1CQUFjLEdBQVksS0FBSyxDQUFDO1FBQ2hDLGNBQVMsR0FBWSxzQkFBc0IsQ0FBQztRQUdwRCxtQkFBYyxHQUFXLFdBQVcsQ0FBQztRQUNyQyxjQUFTLEdBQVksS0FBSyxDQUFDO0lBNko3QixDQUFDO0lBdkpDLHVEQUF1RDtJQUNuQyxJQUFJLE9BQU8sQ0FBQyxLQUEyQjtRQUN6RCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3BELENBQUM7SUFFRCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ29CLElBQUksU0FBUyxDQUFDLEtBQWM7UUFDakQsSUFBSSxDQUFDLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCx3RUFBd0U7SUFDNUMsSUFBSSxhQUFhLENBQUMsS0FBYztRQUMxRCxJQUFJLENBQUMsY0FBYyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0EyQkc7SUFDa0IsSUFBSSxRQUFRLENBQUMsS0FBYTtRQUM3QyxJQUFJLENBQUMsU0FBUyxHQUFHLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztJQUN6RixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bd0JHO0lBQzBCLElBQUksZUFBZSxDQUFDLEtBQW9CO1FBQ25FLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUM1RCxDQUFDO0lBRUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQy9CLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bb0NHO0lBQ2dCLElBQUksTUFBTSxDQUFDLEtBQVU7UUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLFlBQVksVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDM0UsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0NBSUYsQ0FBQTtBQXRKcUI7SUFBbkIsS0FBSyxDQUFDLFdBQVcsQ0FBQzs4QkFBb0IsS0FBSztxQ0FBTCxLQUFLO21EQUUzQztBQWVzQjtJQUF0QixLQUFLLENBQUMsY0FBYyxDQUFDOzs7cURBRXJCO0FBTzJCO0lBQTNCLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQzs7O3lEQUUxQjtBQWtDb0I7SUFBcEIsS0FBSyxDQUFDLFlBQVksQ0FBQzs7O29EQUVuQjtBQStCNEI7SUFBNUIsS0FBSyxDQUFDLG9CQUFvQixDQUFDOzhCQUE0QixLQUFLO3FDQUFMLEtBQUs7MkRBRTVEO0FBMkNrQjtJQUFsQixLQUFLLENBQUMsVUFBVSxDQUFDOzs7a0RBRWpCO0FBOUpVLG9CQUFvQjtJQURoQyxTQUFTLEVBQUU7R0FDQyxvQkFBb0IsQ0FzS2hDO1NBdEtZLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVsZW1lbnRSZWYsIElucHV0LCBEaXJlY3RpdmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgUE9fQ09OVFJPTF9QT1NJVElPTlMgfSBmcm9tICcuLy4uLy4uL3NlcnZpY2VzL3BvLWNvbnRyb2wtcG9zaXRpb24vcG8tY29udHJvbC1wb3NpdGlvbi5jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBQb1BvcHVwQWN0aW9uIH0gZnJvbSAnLi9wby1wb3B1cC1hY3Rpb24uaW50ZXJmYWNlJztcblxuY29uc3QgcG9Qb3B1cERlZmF1bHRQb3NpdGlvbiA9ICdib3R0b20tbGVmdCc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBjb21wb25lbnRlIGBwby1wb3B1cGAgw6kgdW0gY29udGFpbmVyIHBlcXVlbm8gcmVjb21lbmRhZG8gcGFyYSBhw6fDtWVzIGRlIG5hdmVnYcOnw6NvOlxuICogRWxlIGFicmUgc29icmVwb3N0byBhb3Mgb3V0cm9zIGNvbXBvbmVudGVzLlxuICpcbiAqIMOJIHBvc3PDrXZlbCBlc2NvbGhlciBhcyBwb3Npw6fDtWVzIGRvIGBwby1wb3B1cGAgZW0gcmVsYcOnw6NvIGFvIGNvbXBvbmVudGUgYWx2bywgcGFyYSBpc3RvIHZlamEgYSBwcm9wcmllZGFkZSBgcC1wb3NpdGlvbmAuXG4gKlxuICogVGFtYsOpbSDDqSBwb3Nzw612ZWwgaW5mb3JtYXIgdW0gX3RlbXBsYXRlXyBfaGVhZGVyXyBwYXJhIG8gYHBvLXBvcHVwYCwgcXVlIHNlcsOhIGV4aWJpZG8gYWNpbWEgZGFzIGHDp8O1ZXMuXG4gKiBQYXJhIGZ1bmNpb25hciBjb3JyZXRhbWVudGUgw6kgcHJlY2lzbyBhZGljaW9uYXIgYSBwcm9wcmllZGFkZSBgcC1wb3B1cC1oZWFkZXItdGVtcGxhdGVgIG5vIGVsZW1lbnRvIHF1ZSBzZXJ2aXLDoSBkZSB0ZW1wbGF0ZSwgcG9yIGV4ZW1wbG86XG4gKlxuICogYGBgXG4gKiA8cG8tcG9wdXAgW3AtdGFyZ2V0XT1cInRhcmdldFwiPlxuICogICA8ZGl2IHAtcG9wdXAtaGVhZGVyLXRlbXBsYXRlPlxuICogICAgIDxkaXY+XG4gKiAgICAgICBEZXYgUE9cbiAqICAgICA8L2Rpdj5cbiAqICAgICA8ZGl2PlxuICogICAgICAgZGV2LnBvQHBvLXVpLmNvbS5iclxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvcG8tcG9wdXAgPlxuICogYGBgXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvUG9wdXBCYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfYWN0aW9uczogQXJyYXk8UG9Qb3B1cEFjdGlvbj47XG4gIHByaXZhdGUgX2N1c3RvbVBvc2l0aW9ucz86IEFycmF5PHN0cmluZz47XG4gIHByaXZhdGUgX2hpZGVBcnJvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9pc0Nvcm5lckFsaWduOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3Bvc2l0aW9uPzogc3RyaW5nID0gcG9Qb3B1cERlZmF1bHRQb3NpdGlvbjtcbiAgcHJpdmF0ZSBfdGFyZ2V0OiBhbnk7XG5cbiAgYXJyb3dEaXJlY3Rpb246IHN0cmluZyA9ICd0b3AtcmlnaHQnO1xuICBzaG93UG9wdXA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcm90ZWN0ZWQgb2xkVGFyZ2V0O1xuICBwcm90ZWN0ZWQgcGFyYW07XG4gIHByb3RlY3RlZCBwYXJlbnRSZWY7XG5cbiAgLyoqIExpc3RhIGRlIGHDp8O1ZXMgcXVlIHNlcsOjbyBleGliaWRhcyBubyBjb21wb25lbnRlLiAqL1xuICBASW5wdXQoJ3AtYWN0aW9ucycpIHNldCBhY3Rpb25zKHZhbHVlOiBBcnJheTxQb1BvcHVwQWN0aW9uPikge1xuICAgIHRoaXMuX2FjdGlvbnMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW107XG4gIH1cblxuICBnZXQgYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9jdWx0YSBhIHNldGEgZG8gY29tcG9uZW50ZSAqcG9wdXAqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaGlkZS1hcnJvdycpIHNldCBoaWRlQXJyb3codmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRlQXJyb3cgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBoaWRlQXJyb3coKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVBcnJvdztcbiAgfVxuXG4gIC8vIERlZmluZSBzZSBvIGBwby1wb3B1cGAgc2Vyw6EgYWxpbmhhZG8gcGVsb3MgY2FudG9zIGRvIGVsZW1lbnRvIHRhcmdldC5cbiAgQElucHV0KCdwLWlzLWNvcm5lci1hbGlnbicpIHNldCBpc0Nvcm5lckFsaWduKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5faXNDb3JuZXJBbGlnbiA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGlzQ29ybmVyQWxpZ24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29ybmVyQWxpZ247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgYSBwb3Npw6fDo28gaW5pY2lhbCBxdWUgbyBgcG8tcG9wdXBgIGFicmlyw6EgZW0gcmVsYcOnw6NvIGFvIGNvbXBvbmVudGUgYWx2by4gU3VnZXJlLXNlIHF1ZSBzZWphXG4gICAqIHVzYWRhIGEgb3JpZW50YcOnw6NvIGBib3R0b20tbGVmdGAgKGFiYWl4byBlIGEgZXNxdWVyZGEpLCBwb3LDqW0gbyBtZXNtbyDDqSBmbGV4w612ZWwgZSBzZXLDoSByb3RhY2lvbmFkb1xuICAgKiBhdXRvbWF0aWNhbWVudGUgcGFyYSBzZSBhZGVxdWFyIGEgdGVsYSwgY2FzbyBuZWNlc3PDoXJpby5cbiAgICpcbiAgICogPiBDYXNvIHNlamEgZGVmaW5pZG8gdW0gYHAtY3VzdG9tLXBvc2l0aW9uc2AgbyBjb21wb25lbnRlIGlyw6EgYWJyaXIgbmEgcG9zacOnw6NvIGRlZmluaWRhIG5hIHByb3ByaWVkYWRlIGBwLXBvc2l0aW9uYFxuICAgKiBlIGNhc28gbsOjbyBjYWliYSBuYSBwb3Npw6fDo28gaW5pY2lhbCBlbGUgaXLDoSByb3RhY2lvbmFyIHNlZ3VpbmRvIGEgb3JkZW0gZGUgcG9zacOnw7VlcyBkZWZpbmlkYXMgbm8gYHAtY3VzdG9tLXBvc2l0aW9uc2AuXG4gICAqXG4gICAqIFBvc2nDp8O1ZXMgdsOhbGlkYXM6XG4gICAqIC0gYHJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIHN1cGVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tLWxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbS1yaWdodGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBlIMOgIGRpcmVpdGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBsZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBpbmZlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLXJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLWxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBlIMOgIGVzcXVlcmRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICpcbiAgICogQGRlZmF1bHQgYGJvdHRvbS1sZWZ0YFxuICAgKi9cbiAgQElucHV0KCdwLXBvc2l0aW9uJykgc2V0IHBvc2l0aW9uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9wb3NpdGlvbiA9IFBPX0NPTlRST0xfUE9TSVRJT05TLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogcG9Qb3B1cERlZmF1bHRQb3NpdGlvbjtcbiAgfVxuXG4gIGdldCBwb3NpdGlvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBhcyBwb3Npw6fDtWVzIGUgYSBzZXF1w6puY2lhIHF1ZSBvIGBwby1wb3B1cGAgcG9kZXLDoSByb3RhY2lvbmFyLiBBIHNlcXXDqm5jaWEgc2Vyw6EgZGVmaW5pZGEgcGVsYSBvcmRlbSBwYXNzYWRhXG4gICAqIG5vICphcnJheSouIENhc28gbsOjbyBzZWphIGRlZmluaWRvLCBvIGBwby1wb3B1cGAgaXLDoSByb3RhY2lvbmFyIGVtIHRvZGFzIGFzIHBvc2nDp8O1ZXMgdsOhbGlkYXMuXG4gICAqXG4gICAqID4gTyBjb21wb25lbnRlIHNlbXByZSBpcsOhIGFicmlyIG5hIHBvc2nDp8OjbyBkZWZpbmlkYSBubyBgcC1wb3NpdGlvbmAgZSBjYXNvIG7Do28gY2FpYmEgbmEgcG9zacOnw6NvIGRlZmluaWRhIG8gbWVzbW9cbiAgICogaXLDoSByb3RhY2lvbmFyIHNlZ3VpbmRvIGEgb3JkZW0gZGVmaW5pZGEgcGVsbyBgcC1jdXN0b20tcG9zaXRpb25gLlxuICAgKlxuICAgKiBQb3Npw6fDtWVzIHbDoWxpZGFzOlxuICAgKiAtIGByaWdodGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHJpZ2h0LWJvdHRvbWA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBpbmZlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHJpZ2h0LXRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbWA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbS1sZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGUgw6AgZXNxdWVyZGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b20tcmlnaHRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBsZWZ0LXRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gc3VwZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBsZWZ0LWJvdHRvbWA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gaW5mZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGB0b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHRvcC1yaWdodGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGUgw6AgZGlyZWl0YSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHRvcC1sZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqL1xuICBASW5wdXQoJ3AtY3VzdG9tLXBvc2l0aW9ucycpIHNldCBjdXN0b21Qb3NpdGlvbnModmFsdWU6IEFycmF5PHN0cmluZz4pIHtcbiAgICB0aGlzLl9jdXN0b21Qb3NpdGlvbnMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW107XG4gIH1cblxuICBnZXQgY3VzdG9tUG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21Qb3NpdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFBhcmEgdXRpbGl6YXIgbyBgcG8tcG9wdXBgIGRldmUtc2UgY29sb2NhciB1bWEgdmFyacOhdmVsIGxvY2FsIG5vIGNvbXBvbmVudGUgcXVlIGRpc3BhcmFyw6EgbyBldmVudG9cbiAgICogZGUgYWJlcnR1cmEgbm8gbWVzbW8gZSBjb20gaXNzbywgaW52b2NhcsOhIGEgZnVuw6fDo28gYHRvZ2dsZWAsIHBvciBleGVtcGxvOlxuICAgKlxuICAgKiBgYGBcbiAgICogPHNwYW4gI2ljb24gY2xhc3M9XCJwby1pY29uIHBvLWljb24tY3JlZGl0LXBheW1lbnRcIiAoY2xpY2spPVwicG9wdXAudG9nZ2xlKClcIj5cbiAgICogICBDcmVkaXQgQWN0aW9uc1xuICAgKiA8L3NwYW4+XG4gICAqXG4gICAqIDxwby1wb3B1cCAjcG9wdXBcbiAgICogICBbcC1hY3Rpb25zXT1cImFjdGlvbnNcIlxuICAgKiAgIFtwLXRhcmdldF09XCJpY29uXCI+XG4gICAqIDwvcG8tcG9wdXA+XG4gICAqIGBgYFxuICAgKlxuICAgKiBDYXNvIG8gZWxlbWVudG8gYWx2byBmb3IgdW0gY29tcG9uZW50ZSwgc2Vyw6EgcHJlY2lzbyBvYnRlciBvIGBFbGVtZW50UmVmYCBkbyBtZXNtbyBlIHBhc3PDoS1sbyDDoCBwcm9wcmllZGFkZSwgcG9yIGV4ZW1wbG86XG4gICAqXG4gICAqIGBgYFxuICAgKiAvLyBjb21wb25lbnQuaHRtbFxuICAgKlxuICAgKiA8cG8tYnV0dG9uICNwb0J1dHRvblxuICAgKiAgIHAtbGFiZWw9XCJPcGVuIFBvcG92ZXJcIlxuICAgKiAgIChwLWNsaWNrKT1cInBvcHVwLnRvZ2dsZSgpXCI+XG4gICAqIDwvcG8tYnV0dG9uPlxuICAgKlxuICAgKiA8cG8tcG9wdXAgI3BvcHVwXG4gICAqICAgW3AtYWN0aW9uc109XCJhY3Rpb25zXCJcbiAgICogICBbcC10YXJnZXRdPVwicG9CdXR0b25SZWZcIj5cbiAgICogPC9wby1wb3B1cD5cbiAgICpcbiAgICogLy8gY29tcG9uZW50LnRzXG4gICAqXG4gICAqIEBWaWV3Q2hpbGQoJ3BvQnV0dG9uJywgeyByZWFkOiBFbGVtZW50UmVmIH0pIHBvQnV0dG9uUmVmOiBFbGVtZW50UmVmO1xuICAgKiBgYGBcbiAgICovXG4gIEBJbnB1dCgncC10YXJnZXQnKSBzZXQgdGFyZ2V0KHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl90YXJnZXQgPSB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyB2YWx1ZS5uYXRpdmVFbGVtZW50IDogdmFsdWU7XG4gIH1cblxuICBnZXQgdGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xpY2tvdXRMaXN0ZW5lcjogKCkgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIHJlc2l6ZUxpc3RlbmVyOiAoKSA9PiB2b2lkO1xufVxuIl19