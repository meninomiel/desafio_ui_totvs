import { __decorate, __metadata } from "tslib";
import { ElementRef, EventEmitter, Input, Output, Directive } from '@angular/core';
/**
 * @docsPrivate
 *
 * Este componente é de uso interno utilizado por componentes de entrada de dados com o objetivo de resetar as informações do model.
 *
 * Por padrão limpa o valor do campo e executa o método onChangePropagate, caso tenha a necessidade de tratar a função de limpar o campo,
 * deve implementar a interface PoClean.
 */
let PoCleanBaseComponent = class PoCleanBaseComponent {
    constructor() {
        /** Valor que será atribuído ao campo quando for clicado no po-clean. */
        this.defaultValue = '';
        /**
         * Evento disparado quando executada ação do po-clean.
         * Este evento deve ser usado para avisar para o componente que está usando o po-clean, que o botão foi disparado,
         * e provavelmente será preciso emitir o evento para atualizar o model.
         */
        this.changeEvent = new EventEmitter();
    }
    clear() {
        this.setInputValue(this.defaultValue);
        this.changeEvent.emit(this.defaultValue);
    }
    showIcon() {
        return (this.defaultValue !== this.getInputValue() && this.hasCleanAttr() && !this.isDisabled() && !this.isReadonly());
    }
    // Este método verifica se o componente pai possui a propriedade clean diferente de vazio,
    // ou seja, se o po-clean deve ser usado.
    hasCleanAttr() {
        return this.parentComponent.clean;
    }
    // Este método verifica se o componente pai está desabilitado.
    isDisabled() {
        return this.parentComponent.disabled;
    }
    // Este método verifica se o componente pai está somente leitura.
    isReadonly() {
        return this.parentComponent.readonly;
    }
};
__decorate([
    Input('p-element-ref'),
    __metadata("design:type", ElementRef)
], PoCleanBaseComponent.prototype, "inputRef", void 0);
__decorate([
    Input('p-default-value'),
    __metadata("design:type", String)
], PoCleanBaseComponent.prototype, "defaultValue", void 0);
__decorate([
    Output('p-change-event'),
    __metadata("design:type", EventEmitter)
], PoCleanBaseComponent.prototype, "changeEvent", void 0);
PoCleanBaseComponent = __decorate([
    Directive()
], PoCleanBaseComponent);
export { PoCleanBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tY2xlYW4tYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLWZpZWxkL3BvLWNsZWFuL3BvLWNsZWFuLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVuRjs7Ozs7OztHQU9HO0FBRUgsSUFBc0Isb0JBQW9CLEdBQTFDLE1BQXNCLG9CQUFvQjtJQUExQztRQUlFLHdFQUF3RTtRQUM5QyxpQkFBWSxHQUFZLEVBQUUsQ0FBQztRQUVyRDs7OztXQUlHO1FBQ3VCLGdCQUFXLEdBQXVCLElBQUksWUFBWSxFQUFPLENBQUM7SUFrQ3RGLENBQUM7SUE5QkMsS0FBSztRQUNILElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU8sQ0FDTCxJQUFJLENBQUMsWUFBWSxLQUFLLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQzlHLENBQUM7SUFDSixDQUFDO0lBRUQsMEZBQTBGO0lBQzFGLHlDQUF5QztJQUNqQyxZQUFZO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7SUFDcEMsQ0FBQztJQUVELDhEQUE4RDtJQUN0RCxVQUFVO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUM7SUFDdkMsQ0FBQztJQUVELGlFQUFpRTtJQUN6RCxVQUFVO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUM7SUFDdkMsQ0FBQztDQUtGLENBQUE7QUE1Q3lCO0lBQXZCLEtBQUssQ0FBQyxlQUFlLENBQUM7OEJBQVcsVUFBVTtzREFBQztBQUduQjtJQUF6QixLQUFLLENBQUMsaUJBQWlCLENBQUM7OzBEQUE0QjtBQU8zQjtJQUF6QixNQUFNLENBQUMsZ0JBQWdCLENBQUM7OEJBQWUsWUFBWTt5REFBZ0M7QUFaaEUsb0JBQW9CO0lBRHpDLFNBQVMsRUFBRTtHQUNVLG9CQUFvQixDQThDekM7U0E5Q3FCLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogQGRvY3NQcml2YXRlXG4gKlxuICogRXN0ZSBjb21wb25lbnRlIMOpIGRlIHVzbyBpbnRlcm5vIHV0aWxpemFkbyBwb3IgY29tcG9uZW50ZXMgZGUgZW50cmFkYSBkZSBkYWRvcyBjb20gbyBvYmpldGl2byBkZSByZXNldGFyIGFzIGluZm9ybWHDp8O1ZXMgZG8gbW9kZWwuXG4gKlxuICogUG9yIHBhZHLDo28gbGltcGEgbyB2YWxvciBkbyBjYW1wbyBlIGV4ZWN1dGEgbyBtw6l0b2RvIG9uQ2hhbmdlUHJvcGFnYXRlLCBjYXNvIHRlbmhhIGEgbmVjZXNzaWRhZGUgZGUgdHJhdGFyIGEgZnVuw6fDo28gZGUgbGltcGFyIG8gY2FtcG8sXG4gKiBkZXZlIGltcGxlbWVudGFyIGEgaW50ZXJmYWNlIFBvQ2xlYW4uXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBvQ2xlYW5CYXNlQ29tcG9uZW50IHtcbiAgLyoqIE5lc3RhIHByb3ByaWVkYWRlIGRldmUtc2UgaW5mb3JtYXIgbyBlbGVtZW50UmVmIGRvIGNhbXBvIGRlIGVudHJhZGEgcXVlIHV0aWxpemFyw6EgbyBwby1jbGVhbi4gKi9cbiAgQElucHV0KCdwLWVsZW1lbnQtcmVmJykgaW5wdXRSZWY6IEVsZW1lbnRSZWY7XG5cbiAgLyoqIFZhbG9yIHF1ZSBzZXLDoSBhdHJpYnXDrWRvIGFvIGNhbXBvIHF1YW5kbyBmb3IgY2xpY2FkbyBubyBwby1jbGVhbi4gKi9cbiAgQElucHV0KCdwLWRlZmF1bHQtdmFsdWUnKSBkZWZhdWx0VmFsdWU/OiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogRXZlbnRvIGRpc3BhcmFkbyBxdWFuZG8gZXhlY3V0YWRhIGHDp8OjbyBkbyBwby1jbGVhbi5cbiAgICogRXN0ZSBldmVudG8gZGV2ZSBzZXIgdXNhZG8gcGFyYSBhdmlzYXIgcGFyYSBvIGNvbXBvbmVudGUgcXVlIGVzdMOhIHVzYW5kbyBvIHBvLWNsZWFuLCBxdWUgbyBib3TDo28gZm9pIGRpc3BhcmFkbyxcbiAgICogZSBwcm92YXZlbG1lbnRlIHNlcsOhIHByZWNpc28gZW1pdGlyIG8gZXZlbnRvIHBhcmEgYXR1YWxpemFyIG8gbW9kZWwuXG4gICAqL1xuICBAT3V0cHV0KCdwLWNoYW5nZS1ldmVudCcpIGNoYW5nZUV2ZW50PzogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBwcm90ZWN0ZWQgcGFyZW50Q29tcG9uZW50OiBhbnk7XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgICB0aGlzLmNoYW5nZUV2ZW50LmVtaXQodGhpcy5kZWZhdWx0VmFsdWUpO1xuICB9XG5cbiAgc2hvd0ljb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZGVmYXVsdFZhbHVlICE9PSB0aGlzLmdldElucHV0VmFsdWUoKSAmJiB0aGlzLmhhc0NsZWFuQXR0cigpICYmICF0aGlzLmlzRGlzYWJsZWQoKSAmJiAhdGhpcy5pc1JlYWRvbmx5KClcbiAgICApO1xuICB9XG5cbiAgLy8gRXN0ZSBtw6l0b2RvIHZlcmlmaWNhIHNlIG8gY29tcG9uZW50ZSBwYWkgcG9zc3VpIGEgcHJvcHJpZWRhZGUgY2xlYW4gZGlmZXJlbnRlIGRlIHZhemlvLFxuICAvLyBvdSBzZWphLCBzZSBvIHBvLWNsZWFuIGRldmUgc2VyIHVzYWRvLlxuICBwcml2YXRlIGhhc0NsZWFuQXR0cigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRDb21wb25lbnQuY2xlYW47XG4gIH1cblxuICAvLyBFc3RlIG3DqXRvZG8gdmVyaWZpY2Egc2UgbyBjb21wb25lbnRlIHBhaSBlc3TDoSBkZXNhYmlsaXRhZG8uXG4gIHByaXZhdGUgaXNEaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRDb21wb25lbnQuZGlzYWJsZWQ7XG4gIH1cblxuICAvLyBFc3RlIG3DqXRvZG8gdmVyaWZpY2Egc2UgbyBjb21wb25lbnRlIHBhaSBlc3TDoSBzb21lbnRlIGxlaXR1cmEuXG4gIHByaXZhdGUgaXNSZWFkb25seSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRDb21wb25lbnQucmVhZG9ubHk7XG4gIH1cblxuICBhYnN0cmFjdCBzZXRJbnB1dFZhbHVlKHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xuXG4gIGFic3RyYWN0IGdldElucHV0VmFsdWUoKTogc3RyaW5nO1xufVxuIl19