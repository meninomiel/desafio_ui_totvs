import { __decorate, __metadata } from "tslib";
import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoStepperOrientation } from './enums/po-stepper-orientation.enum';
import { PoStepperStatus } from './enums/po-stepper-status.enum';
const poStepperOrientationDefault = PoStepperOrientation.Horizontal;
/**
 * @description
 *
 * O `po-stepper` permite que um processo seja dividido em passos para que o usuário o realize
 * mais facilmente.
 *
 * Existem duas formas de utilização:
 *
 * 1 - Usando o componente [**po-step**](/documentation/po-step) para renderizar e descrever os passos.
 *
 * 2 - Através da propriedade `p-steps` para descrever os passos do processo, sendo responsabilidade do desenvolvedor o controle
 * de renderização do que será exibido a cada *step* ativo.
 *
 * Através de suas propriedades, é possível definir se sua orientação será horizontal ou vertical,
 * além da possibilidade de aumentar o tamanho dos *steps*.
 *
 * Também é possível navegar entre os *steps* através do teclado utilizando a tecla *tab* e, para ativar o *step* em foco basta
 * pressionar a tecla *enter*. Além disso, é possível ativar a exibição de ícones no lugar de números nos *steps* através da
 * propriedade [`p-step-icons`](/documentation/po-stepper#stepIconsProperty).
 *
 * #### Utilizando os métodos do componente:
 *
 * Para acessar os métodos do componente é necessário ter a referência do mesmo.
 *
 * Por exemplo, utilizando um [**ViewChild**](https://angular.io/api/core/ViewChild):
 *
 * ```
 * @ViewChild(PoStepperComponent) poStepperComponent: PoStepperComponent;
 * ```
 *
 * E para acessar o método:
 *
 * ```
 * poStepperComponent.next();
 * ```
 *
 * #### Boas práticas
 *
 * - Evite `labels` extensos que quebram o layout do `po-stepper`, use `labels` diretos, curtos e intuitivos.
 * - Utilize apenas um `po-stepper` por página.
 */
let PoStepperBaseComponent = class PoStepperBaseComponent {
    constructor() {
        this._orientation = poStepperOrientationDefault;
        this._sequential = true;
        this._step = 1;
        this._steps = [];
        /** Ação que será executada quando o usuário mudar o passo do `po-stepper`. */
        this.onChangeStep = new EventEmitter();
    }
    /**
     * @optional
     *
     * @description
     *
     * Define a orientação de exibição do `po-stepper`.
     *
     * > Veja os valores válidos no *enum* [PoStepperOrientation](documentation/po-stepper#stepperOrientation).
     *
     * @default `PoStepperOrientation.Horizontal`
     */
    set orientation(value) {
        this._orientation = Object.values(PoStepperOrientation).includes(value)
            ? value
            : poStepperOrientationDefault;
    }
    get orientation() {
        return this._orientation;
    }
    /**
     * @optional
     *
     * @description
     *
     * Controla o passo atual do `po-stepper`.
     *
     * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
     * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
     *
     * @default `1`
     */
    set step(step) {
        if (step >= 1 && step <= this.steps.length) {
            this._step = step;
            this._steps[this._step - 1].status = PoStepperStatus.Active;
        }
    }
    get step() {
        return this._step;
    }
    /**
     * @optional
     *
     * @description
     *
     * Lista dos itens do stepper. Se o valor estiver indefinido ou inválido, será inicializado como um array vazio.
     *
     * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
     * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
     */
    set steps(steps) {
        this._steps = Array.isArray(steps) ? steps : [];
        this._steps.forEach(step => (step.status = PoStepperStatus.Default));
        this.step = 1;
    }
    get steps() {
        return this._steps;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define se o `po-stepper` será sequencial ou aleatório.
     *
     * > Ao utilizar o componente [**po-step**](/documentation/po-step), o valor desta propriedade sempre será verdadeiro.
     *
     * @default `true`
     */
    set sequential(sequential) {
        this._sequential = convertToBoolean(sequential);
    }
    get sequential() {
        return this._sequential;
    }
};
__decorate([
    Input('p-orientation'),
    __metadata("design:type", String),
    __metadata("design:paramtypes", [String])
], PoStepperBaseComponent.prototype, "orientation", null);
__decorate([
    Input('p-step'),
    __metadata("design:type", Number),
    __metadata("design:paramtypes", [Number])
], PoStepperBaseComponent.prototype, "step", null);
__decorate([
    Input('p-steps'),
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [Array])
], PoStepperBaseComponent.prototype, "steps", null);
__decorate([
    Input('p-step-icons'),
    __metadata("design:type", Boolean)
], PoStepperBaseComponent.prototype, "stepIcons", void 0);
__decorate([
    Input('p-step-size'),
    __metadata("design:type", Number)
], PoStepperBaseComponent.prototype, "stepSize", void 0);
__decorate([
    Input('p-sequential'),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [Boolean])
], PoStepperBaseComponent.prototype, "sequential", null);
__decorate([
    Output('p-change-step'),
    __metadata("design:type", Object)
], PoStepperBaseComponent.prototype, "onChangeStep", void 0);
PoStepperBaseComponent = __decorate([
    Directive()
], PoStepperBaseComponent);
export { PoStepperBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc3RlcHBlci1iYXNlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwby11aS9uZy1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tc3RlcHBlci9wby1zdGVwcGVyLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBSXBELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUVqRSxNQUFNLDJCQUEyQixHQUFHLG9CQUFvQixDQUFDLFVBQVUsQ0FBQztBQUVwRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXdDRztBQUVILElBQWEsc0JBQXNCLEdBQW5DLE1BQWEsc0JBQXNCO0lBQW5DO1FBQ1UsaUJBQVksR0FBMEIsMkJBQTJCLENBQUM7UUFDbEUsZ0JBQVcsR0FBYSxJQUFJLENBQUM7UUFDN0IsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixXQUFNLEdBQXlCLEVBQUUsQ0FBQztRQWtIMUMsOEVBQThFO1FBQ3JELGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQTRCLENBQUM7SUFDdkYsQ0FBQztJQWxIQzs7Ozs7Ozs7OztPQVVHO0lBQ3FCLElBQUksV0FBVyxDQUFDLEtBQTJCO1FBQ2pFLElBQUksQ0FBQyxZQUFZLEdBQVMsTUFBTyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDNUUsQ0FBQyxDQUFDLEtBQUs7WUFDUCxDQUFDLENBQUMsMkJBQTJCLENBQUM7SUFDbEMsQ0FBQztJQUVELElBQUksV0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMzQixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7O09BV0c7SUFDYyxJQUFJLElBQUksQ0FBQyxJQUFZO1FBQ3BDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDO1NBQzdEO0lBQ0gsQ0FBQztJQUVELElBQUksSUFBSTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ2UsSUFBSSxLQUFLLENBQUMsS0FBMkI7UUFDckQsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUErQkQ7Ozs7Ozs7Ozs7T0FVRztJQUNvQixJQUFJLFVBQVUsQ0FBQyxVQUFtQjtRQUN2RCxJQUFJLENBQUMsV0FBVyxHQUFHLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDWixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDMUIsQ0FBQztDQUlGLENBQUE7QUF2R3lCO0lBQXZCLEtBQUssQ0FBQyxlQUFlLENBQUM7Ozt5REFJdEI7QUFrQmdCO0lBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7OztrREFLZjtBQWdCaUI7SUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQzs4QkFBa0IsS0FBSztxQ0FBTCxLQUFLO21EQUl2QztBQWtCc0I7SUFBdEIsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7eURBQW9CO0FBZXBCO0lBQXJCLEtBQUssQ0FBQyxhQUFhLENBQUM7O3dEQUFrQjtBQWFoQjtJQUF0QixLQUFLLENBQUMsY0FBYyxDQUFDOzs7d0RBRXJCO0FBT3dCO0lBQXhCLE1BQU0sQ0FBQyxlQUFlLENBQUM7OzREQUE2RDtBQXZIMUUsc0JBQXNCO0lBRGxDLFNBQVMsRUFBRTtHQUNDLHNCQUFzQixDQXdIbEM7U0F4SFksc0JBQXNCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBEaXJlY3RpdmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBQb1N0ZXBDb21wb25lbnQgfSBmcm9tICcuL3BvLXN0ZXAvcG8tc3RlcC5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9TdGVwcGVySXRlbSB9IGZyb20gJy4vcG8tc3RlcHBlci1pdGVtLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJPcmllbnRhdGlvbiB9IGZyb20gJy4vZW51bXMvcG8tc3RlcHBlci1vcmllbnRhdGlvbi5lbnVtJztcbmltcG9ydCB7IFBvU3RlcHBlclN0YXR1cyB9IGZyb20gJy4vZW51bXMvcG8tc3RlcHBlci1zdGF0dXMuZW51bSc7XG5cbmNvbnN0IHBvU3RlcHBlck9yaWVudGF0aW9uRGVmYXVsdCA9IFBvU3RlcHBlck9yaWVudGF0aW9uLkhvcml6b250YWw7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBgcG8tc3RlcHBlcmAgcGVybWl0ZSBxdWUgdW0gcHJvY2Vzc28gc2VqYSBkaXZpZGlkbyBlbSBwYXNzb3MgcGFyYSBxdWUgbyB1c3XDoXJpbyBvIHJlYWxpemVcbiAqIG1haXMgZmFjaWxtZW50ZS5cbiAqXG4gKiBFeGlzdGVtIGR1YXMgZm9ybWFzIGRlIHV0aWxpemHDp8OjbzpcbiAqXG4gKiAxIC0gVXNhbmRvIG8gY29tcG9uZW50ZSBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApIHBhcmEgcmVuZGVyaXphciBlIGRlc2NyZXZlciBvcyBwYXNzb3MuXG4gKlxuICogMiAtIEF0cmF2w6lzIGRhIHByb3ByaWVkYWRlIGBwLXN0ZXBzYCBwYXJhIGRlc2NyZXZlciBvcyBwYXNzb3MgZG8gcHJvY2Vzc28sIHNlbmRvIHJlc3BvbnNhYmlsaWRhZGUgZG8gZGVzZW52b2x2ZWRvciBvIGNvbnRyb2xlXG4gKiBkZSByZW5kZXJpemHDp8OjbyBkbyBxdWUgc2Vyw6EgZXhpYmlkbyBhIGNhZGEgKnN0ZXAqIGF0aXZvLlxuICpcbiAqIEF0cmF2w6lzIGRlIHN1YXMgcHJvcHJpZWRhZGVzLCDDqSBwb3Nzw612ZWwgZGVmaW5pciBzZSBzdWEgb3JpZW50YcOnw6NvIHNlcsOhIGhvcml6b250YWwgb3UgdmVydGljYWwsXG4gKiBhbMOpbSBkYSBwb3NzaWJpbGlkYWRlIGRlIGF1bWVudGFyIG8gdGFtYW5obyBkb3MgKnN0ZXBzKi5cbiAqXG4gKiBUYW1iw6ltIMOpIHBvc3PDrXZlbCBuYXZlZ2FyIGVudHJlIG9zICpzdGVwcyogYXRyYXbDqXMgZG8gdGVjbGFkbyB1dGlsaXphbmRvIGEgdGVjbGEgKnRhYiogZSwgcGFyYSBhdGl2YXIgbyAqc3RlcCogZW0gZm9jbyBiYXN0YVxuICogcHJlc3Npb25hciBhIHRlY2xhICplbnRlciouIEFsw6ltIGRpc3NvLCDDqSBwb3Nzw612ZWwgYXRpdmFyIGEgZXhpYmnDp8OjbyBkZSDDrWNvbmVzIG5vIGx1Z2FyIGRlIG7Dum1lcm9zIG5vcyAqc3RlcHMqIGF0cmF2w6lzIGRhXG4gKiBwcm9wcmllZGFkZSBbYHAtc3RlcC1pY29uc2BdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXBwZXIjc3RlcEljb25zUHJvcGVydHkpLlxuICpcbiAqICMjIyMgVXRpbGl6YW5kbyBvcyBtw6l0b2RvcyBkbyBjb21wb25lbnRlOlxuICpcbiAqIFBhcmEgYWNlc3NhciBvcyBtw6l0b2RvcyBkbyBjb21wb25lbnRlIMOpIG5lY2Vzc8OhcmlvIHRlciBhIHJlZmVyw6puY2lhIGRvIG1lc21vLlxuICpcbiAqIFBvciBleGVtcGxvLCB1dGlsaXphbmRvIHVtIFsqKlZpZXdDaGlsZCoqXShodHRwczovL2FuZ3VsYXIuaW8vYXBpL2NvcmUvVmlld0NoaWxkKTpcbiAqXG4gKiBgYGBcbiAqIEBWaWV3Q2hpbGQoUG9TdGVwcGVyQ29tcG9uZW50KSBwb1N0ZXBwZXJDb21wb25lbnQ6IFBvU3RlcHBlckNvbXBvbmVudDtcbiAqIGBgYFxuICpcbiAqIEUgcGFyYSBhY2Vzc2FyIG8gbcOpdG9kbzpcbiAqXG4gKiBgYGBcbiAqIHBvU3RlcHBlckNvbXBvbmVudC5uZXh0KCk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIEJvYXMgcHLDoXRpY2FzXG4gKlxuICogLSBFdml0ZSBgbGFiZWxzYCBleHRlbnNvcyBxdWUgcXVlYnJhbSBvIGxheW91dCBkbyBgcG8tc3RlcHBlcmAsIHVzZSBgbGFiZWxzYCBkaXJldG9zLCBjdXJ0b3MgZSBpbnR1aXRpdm9zLlxuICogLSBVdGlsaXplIGFwZW5hcyB1bSBgcG8tc3RlcHBlcmAgcG9yIHDDoWdpbmEuXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvU3RlcHBlckJhc2VDb21wb25lbnQge1xuICBwcml2YXRlIF9vcmllbnRhdGlvbj86IFBvU3RlcHBlck9yaWVudGF0aW9uID0gcG9TdGVwcGVyT3JpZW50YXRpb25EZWZhdWx0O1xuICBwcml2YXRlIF9zZXF1ZW50aWFsPzogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgX3N0ZXA6IG51bWJlciA9IDE7XG4gIHByaXZhdGUgX3N0ZXBzOiBBcnJheTxQb1N0ZXBwZXJJdGVtPiA9IFtdO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBhIG9yaWVudGHDp8OjbyBkZSBleGliacOnw6NvIGRvIGBwby1zdGVwcGVyYC5cbiAgICpcbiAgICogPiBWZWphIG9zIHZhbG9yZXMgdsOhbGlkb3Mgbm8gKmVudW0qIFtQb1N0ZXBwZXJPcmllbnRhdGlvbl0oZG9jdW1lbnRhdGlvbi9wby1zdGVwcGVyI3N0ZXBwZXJPcmllbnRhdGlvbikuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBQb1N0ZXBwZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsYFxuICAgKi9cbiAgQElucHV0KCdwLW9yaWVudGF0aW9uJykgc2V0IG9yaWVudGF0aW9uKHZhbHVlOiBQb1N0ZXBwZXJPcmllbnRhdGlvbikge1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9TdGVwcGVyT3JpZW50YXRpb24pLmluY2x1ZGVzKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBwb1N0ZXBwZXJPcmllbnRhdGlvbkRlZmF1bHQ7XG4gIH1cblxuICBnZXQgb3JpZW50YXRpb24oKTogUG9TdGVwcGVyT3JpZW50YXRpb24ge1xuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbnRyb2xhIG8gcGFzc28gYXR1YWwgZG8gYHBvLXN0ZXBwZXJgLlxuICAgKlxuICAgKiA+IEFvIHV0aWxpemFyIGVzdGEgcHJvcHJpZWRhZGUgZSB0YW1iw6ltIHV0aWxpemFyIG8gY29tcG9uZW50ZSBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLFxuICAgKiBvIHZhbG9yIGRlc3RhIHByb3ByaWVkYWRlIHNlcsOhIGlnbm9yYWRhIHBlcm1hbmVjZW5kbyBhIGRlZmluacOnw6NvIGRvIFsqKnBvLXN0ZXAqKl0oL2RvY3VtZW50YXRpb24vcG8tc3RlcCkuXG4gICAqXG4gICAqIEBkZWZhdWx0IGAxYFxuICAgKi9cbiAgQElucHV0KCdwLXN0ZXAnKSBzZXQgc3RlcChzdGVwOiBudW1iZXIpIHtcbiAgICBpZiAoc3RlcCA+PSAxICYmIHN0ZXAgPD0gdGhpcy5zdGVwcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5fc3RlcHNbdGhpcy5fc3RlcCAtIDFdLnN0YXR1cyA9IFBvU3RlcHBlclN0YXR1cy5BY3RpdmU7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHN0ZXAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc3RlcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExpc3RhIGRvcyBpdGVucyBkbyBzdGVwcGVyLiBTZSBvIHZhbG9yIGVzdGl2ZXIgaW5kZWZpbmlkbyBvdSBpbnbDoWxpZG8sIHNlcsOhIGluaWNpYWxpemFkbyBjb21vIHVtIGFycmF5IHZhemlvLlxuICAgKlxuICAgKiA+IEFvIHV0aWxpemFyIGVzdGEgcHJvcHJpZWRhZGUgZSB0YW1iw6ltIHV0aWxpemFyIG8gY29tcG9uZW50ZSBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLFxuICAgKiBvIHZhbG9yIGRlc3RhIHByb3ByaWVkYWRlIHNlcsOhIGlnbm9yYWRhIHBlcm1hbmVjZW5kbyBhIGRlZmluacOnw6NvIGRvIFsqKnBvLXN0ZXAqKl0oL2RvY3VtZW50YXRpb24vcG8tc3RlcCkuXG4gICAqL1xuICBASW5wdXQoJ3Atc3RlcHMnKSBzZXQgc3RlcHMoc3RlcHM6IEFycmF5PFBvU3RlcHBlckl0ZW0+KSB7XG4gICAgdGhpcy5fc3RlcHMgPSBBcnJheS5pc0FycmF5KHN0ZXBzKSA/IHN0ZXBzIDogW107XG4gICAgdGhpcy5fc3RlcHMuZm9yRWFjaChzdGVwID0+IChzdGVwLnN0YXR1cyA9IFBvU3RlcHBlclN0YXR1cy5EZWZhdWx0KSk7XG4gICAgdGhpcy5zdGVwID0gMTtcbiAgfVxuXG4gIGdldCBzdGVwcygpOiBBcnJheTxQb1N0ZXBwZXJJdGVtPiB7XG4gICAgcmV0dXJuIHRoaXMuX3N0ZXBzO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogPGEgaWQ9XCJzdGVwSWNvbnNQcm9wZXJ0eVwiPjwvYT5cbiAgICpcbiAgICogSGFiaWxpdGEgYSBleGliacOnw6NvIGRlIMOtY29uZSBhbyBpbnbDqXMgZGUgbsO6bWVybyBubyBjZW50cm8gZG8gY8OtcmN1bG8gZG9zICpzdGVwcyouXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1zdGVwLWljb25zJykgc3RlcEljb25zOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBvIHRhbWFuaG8gZG9zICpzdGVwcyogZW0gKnBpeGVscyosIHBvc3NpYmlsaXRhbmRvIHVtIG1haW9yIGRlc3RhcXVlLlxuICAgKlxuICAgKiBPIHZhbG9yIGluZm9ybWFkbyBkZXZlIHNlciBlbnRyZSBgMjRgIGUgYDY0YC5cbiAgICpcbiAgICogPiBWYWxvcmVzIHF1ZSBuw6NvIHNlIGVucXVhZHJhcmVtIGEgZXN0YSByZWdyYSBzZXLDo28gaWdub3JhZG9zLCBtYW50ZW5kby1zZSBvIHZhbG9yICpkZWZhdWx0Ki5cbiAgICpcbiAgICogQGRlZmF1bHQgYDI0YFxuICAgKi9cbiAgQElucHV0KCdwLXN0ZXAtc2l6ZScpIHN0ZXBTaXplOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIHNlIG8gYHBvLXN0ZXBwZXJgIHNlcsOhIHNlcXVlbmNpYWwgb3UgYWxlYXTDs3Jpby5cbiAgICpcbiAgICogPiBBbyB1dGlsaXphciBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSwgbyB2YWxvciBkZXN0YSBwcm9wcmllZGFkZSBzZW1wcmUgc2Vyw6EgdmVyZGFkZWlyby5cbiAgICpcbiAgICogQGRlZmF1bHQgYHRydWVgXG4gICAqL1xuICBASW5wdXQoJ3Atc2VxdWVudGlhbCcpIHNldCBzZXF1ZW50aWFsKHNlcXVlbnRpYWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9zZXF1ZW50aWFsID0gY29udmVydFRvQm9vbGVhbihzZXF1ZW50aWFsKTtcbiAgfVxuXG4gIGdldCBzZXF1ZW50aWFsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zZXF1ZW50aWFsO1xuICB9XG5cbiAgLyoqIEHDp8OjbyBxdWUgc2Vyw6EgZXhlY3V0YWRhIHF1YW5kbyBvIHVzdcOhcmlvIG11ZGFyIG8gcGFzc28gZG8gYHBvLXN0ZXBwZXJgLiAqL1xuICBAT3V0cHV0KCdwLWNoYW5nZS1zdGVwJykgb25DaGFuZ2VTdGVwID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXIgfCBQb1N0ZXBDb21wb25lbnQ+KCk7XG59XG4iXX0=