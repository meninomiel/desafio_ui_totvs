import { __decorate, __metadata } from "tslib";
import { ChangeDetectorRef, Component, ElementRef, ViewChild } from '@angular/core';
import { Subject } from 'rxjs';
import { PoToasterBaseComponent } from './po-toaster-base.component';
import { PoToasterType } from './po-toaster-type.enum';
import { PoToasterOrientation } from './po-toaster-orientation.enum';
/**
 * @docsPrivate
 *
 * @docsExtends PoToasterBaseComponent
 */
let PoToasterComponent = class PoToasterComponent extends PoToasterBaseComponent {
    constructor(changeDetector, elementeRef) {
        super();
        this.changeDetector = changeDetector;
        this.elementeRef = elementeRef;
        /* Margem do Toaster referênte à sua orientação e posição*/
        this.margin = 20;
        /* Observable para monitorar o Close to Toaster */
        this.observableOnClose = new Subject();
        /* Mostra ou oculta o Toaster */
        this.showToaster = true;
        /* Posição do Toaster*/
        this.toasterPosition = 'po-toaster-bottom';
    }
    /* Muda a posição do Toaster na tela*/
    changePosition(position) {
        this.elementeRef.nativeElement.style.display = 'table';
        this.margin = 6 + 44 * position + position * 6;
        if (this.orientation === PoToasterOrientation.Top) {
            this.toaster.nativeElement.style.top = this.margin + 'px';
        }
        else {
            this.toaster.nativeElement.style.bottom = this.margin + 'px';
        }
    }
    /* Fecha o componente Toaster */
    close() {
        this.showToaster = false;
        this.observableOnClose.next(true);
    }
    /* Configura o Toaster com os atributos passados para ele */
    configToaster(poToaster) {
        this.type = poToaster.type;
        this.message = poToaster.message;
        this.orientation = poToaster.orientation;
        this.position = poToaster.position;
        this.action = poToaster.action;
        this.actionLabel = poToaster.actionLabel ? poToaster.actionLabel : 'Fechar';
        this.componentRef = poToaster.componentRef;
        /* Muda a orientação do Toaster */
        if (this.orientation === PoToasterOrientation.Top) {
            this.toasterPosition = 'po-toaster-top';
        }
        /* Muda a posição do Toaster */
        this.changePosition(this.position);
        /* Switch para o tipo de Toaster */
        switch (this.type) {
            case PoToasterType.Error: {
                this.toasterType = 'po-toaster-error';
                this.icon = 'po-icon-close';
                break;
            }
            case PoToasterType.Information: {
                this.toasterType = 'po-toaster-info';
                this.icon = 'po-icon-info';
                break;
            }
            case PoToasterType.Success: {
                this.toasterType = 'po-toaster-success';
                this.icon = 'po-icon-ok';
                break;
            }
            case PoToasterType.Warning: {
                this.toasterType = 'po-toaster-warning';
                this.icon = 'po-icon-warning';
                break;
            }
        }
        this.changeDetector.detectChanges();
    }
    getShowToaster() {
        return this.showToaster;
    }
    getIcon() {
        return this.icon;
    }
    getToasterPosition() {
        return this.toasterPosition;
    }
    getToasterType() {
        return this.toasterType;
    }
    /* Chama a função passada pelo atributo `action` */
    poToasterAction() {
        this.action(this);
    }
};
PoToasterComponent.ctorParameters = () => [
    { type: ChangeDetectorRef },
    { type: ElementRef }
];
__decorate([
    ViewChild('toaster'),
    __metadata("design:type", ElementRef)
], PoToasterComponent.prototype, "toaster", void 0);
PoToasterComponent = __decorate([
    Component({
        selector: 'po-toaster',
        template: "<div\n  #toaster\n  *ngIf=\"getShowToaster()\"\n  class=\"po-toaster {{ getToasterType() }} {{ getToasterPosition() }} po-clickable\"\n  (click)=\"close()\"\n>\n  <div class=\"po-toaster-message\"><span class=\"po-icon {{ getIcon() }}\"></span> {{ message }}</div>\n\n  <div *ngIf=\"action !== undefined\" (click)=\"poToasterAction()\" class=\"po-toaster-action\">\n    {{ actionLabel }}\n  </div>\n</div>\n"
    }),
    __metadata("design:paramtypes", [ChangeDetectorRef, ElementRef])
], PoToasterComponent);
export { PoToasterComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tdG9hc3Rlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImxpYi9zZXJ2aWNlcy9wby1ub3RpZmljYXRpb24vcG8tdG9hc3Rlci9wby10b2FzdGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXBGLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFL0IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFckUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRXJFOzs7O0dBSUc7QUFLSCxJQUFhLGtCQUFrQixHQUEvQixNQUFhLGtCQUFtQixTQUFRLHNCQUFzQjtJQWlCNUQsWUFBbUIsY0FBaUMsRUFBVSxXQUF3QjtRQUNwRixLQUFLLEVBQUUsQ0FBQztRQURTLG1CQUFjLEdBQWQsY0FBYyxDQUFtQjtRQUFVLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBZHRGLDJEQUEyRDtRQUNuRCxXQUFNLEdBQVcsRUFBRSxDQUFDO1FBQzVCLGtEQUFrRDtRQUMxQyxzQkFBaUIsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO1FBQy9DLGdDQUFnQztRQUN4QixnQkFBVyxHQUFZLElBQUksQ0FBQztRQUNwQyx1QkFBdUI7UUFDZixvQkFBZSxHQUFXLG1CQUFtQixDQUFDO0lBU3RELENBQUM7SUFFRCxzQ0FBc0M7SUFDdEMsY0FBYyxDQUFDLFFBQWdCO1FBQzdCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBRXZELElBQUksQ0FBQyxN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TyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzFCLENBQUM7SUFFRCxtREFBbUQ7SUFDbkQsZUFBZTtRQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEIsQ0FBQztDQUNGLENBQUE7O1lBeEZvQyxpQkFBaUI7WUFBd0IsVUFBVTs7QUFGaEU7SUFBckIsU0FBUyxDQUFDLFNBQVMsQ0FBQzs4QkFBVSxVQUFVO21EQUFDO0FBZi9CLGtCQUFrQjtJQUo5QixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsWUFBWTtRQUN0QixtYUFBMEM7S0FDM0MsQ0FBQztxQ0FrQm1DLGlCQUFpQixFQUF3QixVQUFVO0dBakIzRSxrQkFBa0IsQ0F5RzlCO1NBekdZLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IFBvVG9hc3RlckJhc2VDb21wb25lbnQgfSBmcm9tICcuL3BvLXRvYXN0ZXItYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9Ub2FzdGVyIH0gZnJvbSAnLi9wby10b2FzdGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1RvYXN0ZXJUeXBlIH0gZnJvbSAnLi9wby10b2FzdGVyLXR5cGUuZW51bSc7XG5pbXBvcnQgeyBQb1RvYXN0ZXJPcmllbnRhdGlvbiB9IGZyb20gJy4vcG8tdG9hc3Rlci1vcmllbnRhdGlvbi5lbnVtJztcblxuLyoqXG4gKiBAZG9jc1ByaXZhdGVcbiAqXG4gKiBAZG9jc0V4dGVuZHMgUG9Ub2FzdGVyQmFzZUNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby10b2FzdGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXRvYXN0ZXIuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvVG9hc3RlckNvbXBvbmVudCBleHRlbmRzIFBvVG9hc3RlckJhc2VDb21wb25lbnQge1xuICAvKiDDjWNvbmUgZG8gVG9hc3RlciAqL1xuICBwcml2YXRlIGljb246IHN0cmluZztcbiAgLyogTWFyZ2VtIGRvIFRvYXN0ZXIgcmVmZXLDqm50ZSDDoCBzdWEgb3JpZW50YcOnw6NvIGUgcG9zacOnw6NvKi9cbiAgcHJpdmF0ZSBtYXJnaW46IG51bWJlciA9IDIwO1xuICAvKiBPYnNlcnZhYmxlIHBhcmEgbW9uaXRvcmFyIG8gQ2xvc2UgdG8gVG9hc3RlciAqL1xuICBwcml2YXRlIG9ic2VydmFibGVPbkNsb3NlID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICAvKiBNb3N0cmEgb3Ugb2N1bHRhIG8gVG9hc3RlciAqL1xuICBwcml2YXRlIHNob3dUb2FzdGVyOiBib29sZWFuID0gdHJ1ZTtcbiAgLyogUG9zacOnw6NvIGRvIFRvYXN0ZXIqL1xuICBwcml2YXRlIHRvYXN0ZXJQb3NpdGlvbjogc3RyaW5nID0gJ3BvLXRvYXN0ZXItYm90dG9tJztcbiAgLyogVGlwbyBkbyBUb2FzdGVyICovXG4gIHByaXZhdGUgdG9hc3RlclR5cGU6IHN0cmluZztcblxuICAvKiBDb21wb25lbnRlIHRvYXN0ZXIgKi9cbiAgQFZpZXdDaGlsZCgndG9hc3RlcicpIHRvYXN0ZXI6IEVsZW1lbnRSZWY7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBlbGVtZW50ZVJlZj86IEVsZW1lbnRSZWYpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyogTXVkYSBhIHBvc2nDp8OjbyBkbyBUb2FzdGVyIG5hIHRlbGEqL1xuICBjaGFuZ2VQb3NpdGlvbihwb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50ZVJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAndGFibGUnO1xuXG4gICAgdGhpcy5tYXJnaW4gPSA2ICsgNDQgKiBwb3NpdGlvbiArIHBvc2l0aW9uICogNjtcblxuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBQb1RvYXN0ZXJPcmllbnRhdGlvbi5Ub3ApIHtcbiAgICAgIHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LnN0eWxlLnRvcCA9IHRoaXMubWFyZ2luICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUuYm90dG9tID0gdGhpcy5tYXJnaW4gKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIC8qIEZlY2hhIG8gY29tcG9uZW50ZSBUb2FzdGVyICovXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuc2hvd1RvYXN0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLm9ic2VydmFibGVPbkNsb3NlLm5leHQodHJ1ZSk7XG4gIH1cblxuICAvKiBDb25maWd1cmEgbyBUb2FzdGVyIGNvbSBvcyBhdHJpYnV0b3MgcGFzc2Fkb3MgcGFyYSBlbGUgKi9cbiAgY29uZmlnVG9hc3Rlcihwb1RvYXN0ZXI6IFBvVG9hc3Rlcikge1xuICAgIHRoaXMudHlwZSA9IHBvVG9hc3Rlci50eXBlO1xuICAgIHRoaXMubWVzc2FnZSA9IHBvVG9hc3Rlci5tZXNzYWdlO1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBwb1RvYXN0ZXIub3JpZW50YXRpb247XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvVG9hc3Rlci5wb3NpdGlvbjtcbiAgICB0aGlzLmFjdGlvbiA9IHBvVG9hc3Rlci5hY3Rpb247XG4gICAgdGhpcy5hY3Rpb25MYWJlbCA9IHBvVG9hc3Rlci5hY3Rpb25MYWJlbCA/IHBvVG9hc3Rlci5hY3Rpb25MYWJlbCA6ICdGZWNoYXInO1xuICAgIHRoaXMuY29tcG9uZW50UmVmID0gcG9Ub2FzdGVyLmNvbXBvbmVudFJlZjtcblxuICAgIC8qIE11ZGEgYSBvcmllbnRhw6fDo28gZG8gVG9hc3RlciAqL1xuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBQb1RvYXN0ZXJPcmllbnRhdGlvbi5Ub3ApIHtcbiAgICAgIHRoaXMudG9hc3RlclBvc2l0aW9uID0gJ3BvLXRvYXN0ZXItdG9wJztcbiAgICB9XG5cbiAgICAvKiBNdWRhIGEgcG9zacOnw6NvIGRvIFRvYXN0ZXIgKi9cbiAgICB0aGlzLmNoYW5nZVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO1xuXG4gICAgLyogU3dpdGNoIHBhcmEgbyB0aXBvIGRlIFRvYXN0ZXIgKi9cbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgY2FzZSBQb1RvYXN0ZXJUeXBlLkVycm9yOiB7XG4gICAgICAgIHRoaXMudG9hc3RlclR5cGUgPSAncG8tdG9hc3Rlci1lcnJvcic7XG4gICAgICAgIHRoaXMuaWNvbiA9ICdwby1pY29uLWNsb3NlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFBvVG9hc3RlclR5cGUuSW5mb3JtYXRpb246IHtcbiAgICAgICAgdGhpcy50b2FzdGVyVHlwZSA9ICdwby10b2FzdGVyLWluZm8nO1xuICAgICAgICB0aGlzLmljb24gPSAncG8taWNvbi1pbmZvJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFBvVG9hc3RlclR5cGUuU3VjY2Vzczoge1xuICAgICAgICB0aGlzLnRvYXN0ZXJUeXBlID0gJ3BvLXRvYXN0ZXItc3VjY2Vzcyc7XG4gICAgICAgIHRoaXMuaWNvbiA9ICdwby1pY29uLW9rJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFBvVG9hc3RlclR5cGUuV2FybmluZzoge1xuICAgICAgICB0aGlzLnRvYXN0ZXJUeXBlID0gJ3BvLXRvYXN0ZXItd2FybmluZyc7XG4gICAgICAgIHRoaXMuaWNvbiA9ICdwby1pY29uLXdhcm5pbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIGdldFNob3dUb2FzdGVyKCkge1xuICAgIHJldHVybiB0aGlzLnNob3dUb2FzdGVyO1xuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uO1xuICB9XG5cbiAgZ2V0VG9hc3RlclBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ZXJQb3NpdGlvbjtcbiAgfVxuXG4gIGdldFRvYXN0ZXJUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ZXJUeXBlO1xuICB9XG5cbiAgLyogQ2hhbWEgYSBmdW7Dp8OjbyBwYXNzYWRhIHBlbG8gYXRyaWJ1dG8gYGFjdGlvbmAgKi9cbiAgcG9Ub2FzdGVyQWN0aW9uKCk6IHZvaWQge1xuICAgIHRoaXMuYWN0aW9uKHRoaXMpO1xuICB9XG59XG4iXX0=