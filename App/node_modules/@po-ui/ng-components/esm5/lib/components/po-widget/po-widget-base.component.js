import { __decorate, __metadata } from "tslib";
import { Input, Output, EventEmitter, Directive } from '@angular/core';
import { convertToBoolean, isTypeof } from '../../utils/util';
/**
 *
 * @description
 *
 * O componente `po-widget` é recomendado para exibição de *dashboards*, podendo ser utilizado
 * para incluir vários tipos de conteúdo como: gráficos, tabelas, grids e imagens.
 *
 * Além da exibição de conteúdos, este componente possibilita adicionar ações e um link
 * para ajuda, como também possibilita ser utilizado com ou sem sombra.
 *
 * Para controlar sua largura, é possível utilizar o [Grid System](/guides/grid-system) para um maior
 * controle de seu redimensionamento, assim possibilitando o tratamento para diferentes resoluções.
 */
var PoWidgetBaseComponent = /** @class */ (function () {
    function PoWidgetBaseComponent() {
        this._disabled = false;
        this._noShadow = false;
        this._primary = false;
        this.containerHeight = 'auto';
        /** Ação que será executada quando o usuário clicar sobre a área total do `po-widget`. */
        this.click = new EventEmitter();
        /** Função que será disparada com o valor do `p-disabled` quando esta propriedade for alterada. */
        this.onDisabled = new EventEmitter();
        /** Função que será chamada na primeira ação. */
        this.primaryAction = new EventEmitter();
        /** Função que será chamada na segunda ação. */
        this.secondaryAction = new EventEmitter();
        /** Função chamada ao clicar no ícone de configuração */
        this.setting = new EventEmitter();
        /** Função que será chamada ao clicar no título. */
        this.titleAction = new EventEmitter();
    }
    Object.defineProperty(PoWidgetBaseComponent.prototype, "background", {
        get: function () {
            return this._background;
        },
        /**
         * @optional
         *
         * @description
         *
         * Aplicação de imagem de fundo.
         * > Se a imagem escolhida intervir na legibilidade do texto contido no `p-widget`,
         * pode-se utilizar a propriedade `p-primary` em conjunto para que os textos fiquem na cor branca.
         *
         */
        set: function (value) {
            this._background = value && typeof value === 'string' ? value : undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "disabled", {
        get: function () {
            return this._disabled;
        },
        /**
         * @optional
         *
         * @description
         *
         * Desabilita todas as ações do componente.
         *
         * @default `false`
         */
        set: function (value) {
            this._disabled = convertToBoolean(value);
            this.onDisabled.emit(this.disabled);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "height", {
        get: function () {
            return this._height;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define a altura do `po-widget`.
         * A altura mínima para o `po-widget` depende do que será exibido através das propriedades `p-primary-label`,
         * `p-setting`, `p-help` e `p-title`.
         * > Caso não seja informado valor, a propriedade irá assumir o tamanho do conteúdo.
         */
        set: function (value) {
            this._height = parseInt(value, 10);
            this.setHeight(this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "help", {
        get: function () {
            return this._help;
        },
        /**
         * @optional
         *
         * @description
         *
         * Link de ajuda
         */
        set: function (value) {
            this._help = isTypeof(value, 'string') ? value : '';
            this.setHeight(this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "noShadow", {
        get: function () {
            return this._noShadow;
        },
        /**
         * @optional
         *
         * @description
         *
         * Desabilita a sombra do `po-widget`.
         *
         * @default `true`
         */
        set: function (value) {
            this._noShadow = value === '' ? true : convertToBoolean(value);
            this.setHeight(this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "primary", {
        get: function () {
            return this._primary;
        },
        /**
         * @optional
         *
         * @description
         *
         * Opção para que o `po-widget` fique em destaque.
         *
         * @default `false`
         */
        set: function (value) {
            this._primary = value === '' ? true : convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "primaryLabel", {
        get: function () {
            return this._primaryLabel;
        },
        /**
         * @optional
         *
         * @description
         *
         * Descrição da primeira ação.
         *
         * @default `false`
         */
        set: function (value) {
            this._primaryLabel = isTypeof(value, 'string') ? value : '';
            this.setHeight(this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoWidgetBaseComponent.prototype, "title", {
        get: function () {
            return this._title;
        },
        /**
         * @optional
         *
         * @description
         *
         * Título do `po-widget`.
         *
         * @default `false`
         */
        set: function (value) {
            this._title = isTypeof(value, 'string') ? value : '';
            this.setHeight(this.height);
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input('p-background'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoWidgetBaseComponent.prototype, "background", null);
    __decorate([
        Input('p-disabled'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], PoWidgetBaseComponent.prototype, "disabled", null);
    __decorate([
        Input('p-height'),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], PoWidgetBaseComponent.prototype, "height", null);
    __decorate([
        Input('p-help'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoWidgetBaseComponent.prototype, "help", null);
    __decorate([
        Input('p-no-shadow'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], PoWidgetBaseComponent.prototype, "noShadow", null);
    __decorate([
        Input('p-primary'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], PoWidgetBaseComponent.prototype, "primary", null);
    __decorate([
        Input('p-primary-label'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoWidgetBaseComponent.prototype, "primaryLabel", null);
    __decorate([
        Input('p-secondary-label'),
        __metadata("design:type", String)
    ], PoWidgetBaseComponent.prototype, "secondaryLabel", void 0);
    __decorate([
        Input('p-title'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoWidgetBaseComponent.prototype, "title", null);
    __decorate([
        Output('p-click'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "click", void 0);
    __decorate([
        Output('p-on-disabled'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "onDisabled", void 0);
    __decorate([
        Output('p-primary-action'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "primaryAction", void 0);
    __decorate([
        Output('p-secondary-action'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "secondaryAction", void 0);
    __decorate([
        Output('p-setting'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "setting", void 0);
    __decorate([
        Output('p-title-action'),
        __metadata("design:type", EventEmitter)
    ], PoWidgetBaseComponent.prototype, "titleAction", void 0);
    PoWidgetBaseComponent = __decorate([
        Directive()
    ], PoWidgetBaseComponent);
    return PoWidgetBaseComponent;
}());
export { PoWidgetBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8td2lkZ2V0LWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvLXVpL25nLWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby13aWRnZXQvcG8td2lkZ2V0LWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUU5RDs7Ozs7Ozs7Ozs7O0dBWUc7QUFFSDtJQUFBO1FBRVUsY0FBUyxHQUFhLEtBQUssQ0FBQztRQUc1QixjQUFTLEdBQWEsS0FBSyxDQUFDO1FBQzVCLGFBQVEsR0FBYSxLQUFLLENBQUM7UUFJbkMsb0JBQWUsR0FBWSxNQUFNLENBQUM7UUFvSmxDLHlGQUF5RjtRQUN0RSxVQUFLLEdBQThCLElBQUksWUFBWSxFQUFjLENBQUM7UUFFckYsa0dBQWtHO1FBQ3pFLGVBQVUsR0FBdUIsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUVsRixnREFBZ0Q7UUFDcEIsa0JBQWEsR0FBdUIsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUV4RiwrQ0FBK0M7UUFDakIsb0JBQWUsR0FBdUIsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUU1Rix3REFBd0Q7UUFDbkMsWUFBTyxHQUF1QixJQUFJLFlBQVksRUFBTyxDQUFDO1FBRTNFLG1EQUFtRDtRQUN6QixnQkFBVyxHQUF1QixJQUFJLFlBQVksRUFBTyxDQUFDO0lBR3RGLENBQUM7SUEzSndCLHNCQUFJLDZDQUFVO2FBSXJDO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzFCLENBQUM7UUFoQkQ7Ozs7Ozs7OztXQVNHO2FBQ29CLFVBQWUsS0FBYTtZQUNqRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssSUFBSSxPQUFP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QyxNQUFNLENBQUMsQ0FBQztRQUM5QixDQUFDOzs7T0FBQTtJQWxJc0I7UUFBdEIsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7OzJEQUVyQjtJQWVvQjtRQUFwQixLQUFLLENBQUMsWUFBWSxDQUFDOzs7eURBSW5CO0lBZ0JrQjtRQUFsQixLQUFLLENBQUMsVUFBVSxDQUFDOzs7dURBR2pCO0lBYWdCO1FBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7OztxREFHZjtJQWVxQjtRQUFyQixLQUFLLENBQUMsYUFBYSxDQUFDOzs7eURBR3BCO0lBZW1CO1FBQW5CLEtBQUssQ0FBQyxXQUFXLENBQUM7Ozt3REFFbEI7SUFleUI7UUFBekIsS0FBSyxDQUFDLGlCQUFpQixDQUFDOzs7NkRBR3hCO0lBTzJCO1FBQTNCLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQzs7aUVBQXlCO0lBV2xDO1FBQWpCLEtBQUssQ0FBQyxTQUFTLENBQUM7OztzREFHaEI7SUFPa0I7UUFBbEIsTUFBTSxDQUFDLFNBQVMsQ0FBQztrQ0FBUyxZQUFZO3dEQUE4QztJQUc1RDtRQUF4QixNQUFNLENBQUMsZUFBZSxDQUFDO2tDQUFjLFlBQVk7NkRBQWdDO0lBR3REO1FBQTNCLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztrQ0FBaUIsWUFBWTtnRUFBZ0M7SUFHMUQ7UUFBN0IsTUFBTSxDQUFDLG9CQUFvQixDQUFDO2tDQUFtQixZQUFZO2tFQUFnQztJQUd2RTtRQUFwQixNQUFNLENBQUMsV0FBVyxDQUFDO2tDQUFXLFlBQVk7MERBQWdDO0lBR2pEO1FBQXpCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztrQ0FBZSxZQUFZOzhEQUFnQztJQTlLaEUscUJBQXFCO1FBRDFDLFNBQVMsRUFBRTtPQUNVLHFCQUFxQixDQWlMMUM7SUFBRCw0QkFBQztDQUFBLEFBakxELElBaUxDO1NBakxxQixxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuLCBpc1R5cGVvZiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLXdpZGdldGAgw6kgcmVjb21lbmRhZG8gcGFyYSBleGliacOnw6NvIGRlICpkYXNoYm9hcmRzKiwgcG9kZW5kbyBzZXIgdXRpbGl6YWRvXG4gKiBwYXJhIGluY2x1aXIgdsOhcmlvcyB0aXBvcyBkZSBjb250ZcO6ZG8gY29tbzogZ3LDoWZpY29zLCB0YWJlbGFzLCBncmlkcyBlIGltYWdlbnMuXG4gKlxuICogQWzDqW0gZGEgZXhpYmnDp8OjbyBkZSBjb250ZcO6ZG9zLCBlc3RlIGNvbXBvbmVudGUgcG9zc2liaWxpdGEgYWRpY2lvbmFyIGHDp8O1ZXMgZSB1bSBsaW5rXG4gKiBwYXJhIGFqdWRhLCBjb21vIHRhbWLDqW0gcG9zc2liaWxpdGEgc2VyIHV0aWxpemFkbyBjb20gb3Ugc2VtIHNvbWJyYS5cbiAqXG4gKiBQYXJhIGNvbnRyb2xhciBzdWEgbGFyZ3VyYSwgw6kgcG9zc8OtdmVsIHV0aWxpemFyIG8gW0dyaWQgU3lzdGVtXSgvZ3VpZGVzL2dyaWQtc3lzdGVtKSBwYXJhIHVtIG1haW9yXG4gKiBjb250cm9sZSBkZSBzZXUgcmVkaW1lbnNpb25hbWVudG8sIGFzc2ltIHBvc3NpYmlsaXRhbmRvIG8gdHJhdGFtZW50byBwYXJhIGRpZmVyZW50ZXMgcmVzb2x1w6fDtWVzLlxuICovXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb1dpZGdldEJhc2VDb21wb25lbnQge1xuICBwcml2YXRlIF9iYWNrZ3JvdW5kPzogc3RyaW5nO1xuICBwcml2YXRlIF9kaXNhYmxlZD86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaGVpZ2h0PzogbnVtYmVyO1xuICBwcml2YXRlIF9oZWxwPzogc3RyaW5nO1xuICBwcml2YXRlIF9ub1NoYWRvdz86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcHJpbWFyeT86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcHJpbWFyeUxhYmVsPzogc3RyaW5nO1xuICBwcml2YXRlIF90aXRsZT86IHN0cmluZztcblxuICBjb250YWluZXJIZWlnaHQ/OiBzdHJpbmcgPSAnYXV0byc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQXBsaWNhw6fDo28gZGUgaW1hZ2VtIGRlIGZ1bmRvLlxuICAgKiA+IFNlIGEgaW1hZ2VtIGVzY29saGlkYSBpbnRlcnZpciBuYSBsZWdpYmlsaWRhZGUgZG8gdGV4dG8gY29udGlkbyBubyBgcC13aWRnZXRgLFxuICAgKiBwb2RlLXNlIHV0aWxpemFyIGEgcHJvcHJpZWRhZGUgYHAtcHJpbWFyeWAgZW0gY29uanVudG8gcGFyYSBxdWUgb3MgdGV4dG9zIGZpcXVlbSBuYSBjb3IgYnJhbmNhLlxuICAgKlxuICAgKi9cbiAgQElucHV0KCdwLWJhY2tncm91bmQnKSBzZXQgYmFja2dyb3VuZCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fYmFja2dyb3VuZCA9IHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCBiYWNrZ3JvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVzYWJpbGl0YSB0b2RhcyBhcyBhw6fDtWVzIGRvIGNvbXBvbmVudGUuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1kaXNhYmxlZCcpIHNldCBkaXNhYmxlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2Rpc2FibGVkID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG5cbiAgICB0aGlzLm9uRGlzYWJsZWQuZW1pdCh0aGlzLmRpc2FibGVkKTtcbiAgfVxuXG4gIGdldCBkaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgYSBhbHR1cmEgZG8gYHBvLXdpZGdldGAuXG4gICAqIEEgYWx0dXJhIG3DrW5pbWEgcGFyYSBvIGBwby13aWRnZXRgIGRlcGVuZGUgZG8gcXVlIHNlcsOhIGV4aWJpZG8gYXRyYXbDqXMgZGFzIHByb3ByaWVkYWRlcyBgcC1wcmltYXJ5LWxhYmVsYCxcbiAgICogYHAtc2V0dGluZ2AsIGBwLWhlbHBgIGUgYHAtdGl0bGVgLlxuICAgKiA+IENhc28gbsOjbyBzZWphIGluZm9ybWFkbyB2YWxvciwgYSBwcm9wcmllZGFkZSBpcsOhIGFzc3VtaXIgbyB0YW1hbmhvIGRvIGNvbnRlw7pkby5cbiAgICovXG4gIEBJbnB1dCgncC1oZWlnaHQnKSBzZXQgaGVpZ2h0KHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLl9oZWlnaHQgPSBwYXJzZUludCg8YW55PnZhbHVlLCAxMCk7XG4gICAgdGhpcy5zZXRIZWlnaHQodGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMaW5rIGRlIGFqdWRhXG4gICAqL1xuICBASW5wdXQoJ3AtaGVscCcpIHNldCBoZWxwKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9oZWxwID0gaXNUeXBlb2YodmFsdWUsICdzdHJpbmcnKSA/IHZhbHVlIDogJyc7XG4gICAgdGhpcy5zZXRIZWlnaHQodGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgZ2V0IGhlbHAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faGVscDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlc2FiaWxpdGEgYSBzb21icmEgZG8gYHBvLXdpZGdldGAuXG4gICAqXG4gICAqIEBkZWZhdWx0IGB0cnVlYFxuICAgKi9cbiAgQElucHV0KCdwLW5vLXNoYWRvdycpIHNldCBub1NoYWRvdyh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX25vU2hhZG93ID0gPGFueT52YWx1ZSA9PT0gJycgPyB0cnVlIDogY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5zZXRIZWlnaHQodGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgZ2V0IG5vU2hhZG93KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9ub1NoYWRvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9ww6fDo28gcGFyYSBxdWUgbyBgcG8td2lkZ2V0YCBmaXF1ZSBlbSBkZXN0YXF1ZS5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLXByaW1hcnknKSBzZXQgcHJpbWFyeSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3ByaW1hcnkgPSA8YW55PnZhbHVlID09PSAnJyA/IHRydWUgOiBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBwcmltYXJ5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wcmltYXJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVzY3Jpw6fDo28gZGEgcHJpbWVpcmEgYcOnw6NvLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtcHJpbWFyeS1sYWJlbCcpIHNldCBwcmltYXJ5TGFiZWwodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ByaW1hcnlMYWJlbCA9IGlzVHlwZW9mKHZhbHVlLCAnc3RyaW5nJykgPyB2YWx1ZSA6ICcnO1xuICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0KTtcbiAgfVxuXG4gIGdldCBwcmltYXJ5TGFiZWwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fcHJpbWFyeUxhYmVsO1xuICB9XG5cbiAgLyoqIERlc2NyacOnw6NvIGRhIHNlZ3VuZGEgYcOnw6NvLiAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWxhYmVsJykgc2Vjb25kYXJ5TGFiZWw/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVMOtdHVsbyBkbyBgcG8td2lkZ2V0YC5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLXRpdGxlJykgc2V0IHRpdGxlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl90aXRsZSA9IGlzVHlwZW9mKHZhbHVlLCAnc3RyaW5nJykgPyB2YWx1ZSA6ICcnO1xuICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0KTtcbiAgfVxuXG4gIGdldCB0aXRsZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgfVxuXG4gIC8qKiBBw6fDo28gcXVlIHNlcsOhIGV4ZWN1dGFkYSBxdWFuZG8gbyB1c3XDoXJpbyBjbGljYXIgc29icmUgYSDDoXJlYSB0b3RhbCBkbyBgcG8td2lkZ2V0YC4gKi9cbiAgQE91dHB1dCgncC1jbGljaycpIGNsaWNrPzogRXZlbnRFbWl0dGVyPE1vdXNlRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxNb3VzZUV2ZW50PigpO1xuXG4gIC8qKiBGdW7Dp8OjbyBxdWUgc2Vyw6EgZGlzcGFyYWRhIGNvbSBvIHZhbG9yIGRvIGBwLWRpc2FibGVkYCBxdWFuZG8gZXN0YSBwcm9wcmllZGFkZSBmb3IgYWx0ZXJhZGEuICovXG4gIEBPdXRwdXQoJ3Atb24tZGlzYWJsZWQnKSBvbkRpc2FibGVkPzogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAvKiogRnVuw6fDo28gcXVlIHNlcsOhIGNoYW1hZGEgbmEgcHJpbWVpcmEgYcOnw6NvLiAqL1xuICBAT3V0cHV0KCdwLXByaW1hcnktYWN0aW9uJykgcHJpbWFyeUFjdGlvbj86IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgLyoqIEZ1bsOnw6NvIHF1ZSBzZXLDoSBjaGFtYWRhIG5hIHNlZ3VuZGEgYcOnw6NvLiAqL1xuICBAT3V0cHV0KCdwLXNlY29uZGFyeS1hY3Rpb24nKSBzZWNvbmRhcnlBY3Rpb24/OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIC8qKiBGdW7Dp8OjbyBjaGFtYWRhIGFvIGNsaWNhciBubyDDrWNvbmUgZGUgY29uZmlndXJhw6fDo28gKi9cbiAgQE91dHB1dCgncC1zZXR0aW5nJykgc2V0dGluZz86IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgLyoqIEZ1bsOnw6NvIHF1ZSBzZXLDoSBjaGFtYWRhIGFvIGNsaWNhciBubyB0w610dWxvLiAqL1xuICBAT3V0cHV0KCdwLXRpdGxlLWFjdGlvbicpIHRpdGxlQWN0aW9uPzogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBhYnN0cmFjdCBzZXRIZWlnaHQoaGVpZ2h0OiBudW1iZXIpO1xufVxuIl19