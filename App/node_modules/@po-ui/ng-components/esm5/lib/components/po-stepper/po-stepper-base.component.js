import { __decorate, __metadata } from "tslib";
import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoStepperOrientation } from './enums/po-stepper-orientation.enum';
import { PoStepperStatus } from './enums/po-stepper-status.enum';
var poStepperOrientationDefault = PoStepperOrientation.Horizontal;
/**
 * @description
 *
 * O `po-stepper` permite que um processo seja dividido em passos para que o usuário o realize
 * mais facilmente.
 *
 * Existem duas formas de utilização:
 *
 * 1 - Usando o componente [**po-step**](/documentation/po-step) para renderizar e descrever os passos.
 *
 * 2 - Através da propriedade `p-steps` para descrever os passos do processo, sendo responsabilidade do desenvolvedor o controle
 * de renderização do que será exibido a cada *step* ativo.
 *
 * Através de suas propriedades, é possível definir se sua orientação será horizontal ou vertical,
 * além da possibilidade de aumentar o tamanho dos *steps*.
 *
 * Também é possível navegar entre os *steps* através do teclado utilizando a tecla *tab* e, para ativar o *step* em foco basta
 * pressionar a tecla *enter*. Além disso, é possível ativar a exibição de ícones no lugar de números nos *steps* através da
 * propriedade [`p-step-icons`](/documentation/po-stepper#stepIconsProperty).
 *
 * #### Utilizando os métodos do componente:
 *
 * Para acessar os métodos do componente é necessário ter a referência do mesmo.
 *
 * Por exemplo, utilizando um [**ViewChild**](https://angular.io/api/core/ViewChild):
 *
 * ```
 * @ViewChild(PoStepperComponent) poStepperComponent: PoStepperComponent;
 * ```
 *
 * E para acessar o método:
 *
 * ```
 * poStepperComponent.next();
 * ```
 *
 * #### Boas práticas
 *
 * - Evite `labels` extensos que quebram o layout do `po-stepper`, use `labels` diretos, curtos e intuitivos.
 * - Utilize apenas um `po-stepper` por página.
 */
var PoStepperBaseComponent = /** @class */ (function () {
    function PoStepperBaseComponent() {
        this._orientation = poStepperOrientationDefault;
        this._sequential = true;
        this._step = 1;
        this._steps = [];
        /** Ação que será executada quando o usuário mudar o passo do `po-stepper`. */
        this.onChangeStep = new EventEmitter();
    }
    Object.defineProperty(PoStepperBaseComponent.prototype, "orientation", {
        get: function () {
            return this._orientation;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define a orientação de exibição do `po-stepper`.
         *
         * > Veja os valores válidos no *enum* [PoStepperOrientation](documentation/po-stepper#stepperOrientation).
         *
         * @default `PoStepperOrientation.Horizontal`
         */
        set: function (value) {
            this._orientation = Object.values(PoStepperOrientation).includes(value)
                ? value
                : poStepperOrientationDefault;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "step", {
        get: function () {
            return this._step;
        },
        /**
         * @optional
         *
         * @description
         *
         * Controla o passo atual do `po-stepper`.
         *
         * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
         * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
         *
         * @default `1`
         */
        set: function (step) {
            if (step >= 1 && step <= this.steps.length) {
                this._step = step;
                this._steps[this._step - 1].status = PoStepperStatus.Active;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "steps", {
        get: function () {
            return this._steps;
        },
        /**
         * @optional
         *
         * @description
         *
         * Lista dos itens do stepper. Se o valor estiver indefinido ou inválido, será inicializado como um array vazio.
         *
         * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
         * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
         */
        set: function (steps) {
            this._steps = Array.isArray(steps) ? steps : [];
            this._steps.forEach(function (step) { return (step.status = PoStepperStatus.Default); });
            this.step = 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "sequential", {
        get: function () {
            return this._sequential;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define se o `po-stepper` será sequencial ou aleatório.
         *
         * > Ao utilizar o componente [**po-step**](/documentation/po-step), o valor desta propriedade sempre será verdadeiro.
         *
         * @default `true`
         */
        set: function (sequential) {
            this._sequential = convertToBoolean(sequential);
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input('p-orientation'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoStepperBaseComponent.prototype, "orientation", null);
    __decorate([
        Input('p-step'),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], PoStepperBaseComponent.prototype, "step", null);
    __decorate([
        Input('p-steps'),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], PoStepperBaseComponent.prototype, "steps", null);
    __decorate([
        Input('p-step-icons'),
        __metadata("design:type", Boolean)
    ], PoStepperBaseComponent.prototype, "stepIcons", void 0);
    __decorate([
        Input('p-step-size'),
        __metadata("design:type", Number)
    ], PoStepperBaseComponent.prototype, "stepSize", void 0);
    __decorate([
        Input('p-sequential'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], PoStepperBaseComponent.prototype, "sequential", null);
    __decorate([
        Output('p-change-step'),
        __metadata("design:type", Object)
    ], PoStepperBaseComponent.prototype, "onChangeStep", void 0);
    PoStepperBaseComponent = __decorate([
        Directive()
    ], PoStepperBaseComponent);
    return PoStepperBaseComponent;
}());
export { PoStepperBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc3RlcHBlci1iYXNlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwby11aS9uZy1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tc3RlcHBlci9wby1zdGVwcGVyLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBSXBELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUVqRSxJQUFNLDJCQUEyQixHQUFHLG9CQUFvQixDQUFDLFVBQVUsQ0FBQztBQUVwRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXdDRztBQUVIO0lBQUE7UUFDVSxpQkFBWSxHQUEwQiwyQkFBMkIsQ0FBQztRQUNsRSxnQkFBVyxHQUFhLElBQUksQ0FBQztRQUM3QixVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLFdBQU0sR0FBeUIsRUFBRSxDQUFDO1FBa0gxQyw4RUFBOEU7UUFDckQsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBNEIsQ0FBQztJQUN2RixDQUFDO0lBdkd5QixzQkFBSSwrQ0FBVzthQU12QztZQUNFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUMzQixDQUFDO1FBbkJEOzs7Ozs7Ozs7O1dBVUc7YUFDcUIsVUFBZ0IsS0FBMkI7WUFDakUsSUFBSSxDQUFDLFlBQVksR0FBUyxNQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztnQkFDNUUsQ0FBQyxDQUFDLEtBQUs7Z0JBQ1AsQ0FBQyxDQUFDLDJCQUEyQixDQUFDO1FBQ2xDLENBQUM7OztPQUFBO0lBa0JnQixzQkFBSSx3Q0FBSTthQU96QjtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwQixDQUFDO1FBckJEOzs7Ozs7Ozs7OztXQVdHO2FBQ2MsVUFBUyxJQUFZO1lBQ3BDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7Z0JBQzFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUM7YUFDN0Q7UUFDSCxDQUFDOzs7T0FBQTtJQWdCaUIsc0JBQUkseUNBQUs7YUFNM0I7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDckIsQ0FBQztRQWxCRDs7Ozs7Ozs7O1dBU0c7YUFDZSxVQUFVLEtBQTJCO1lBQ3JELElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUF2QyxDQUF1QyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDaEIsQ0FBQzs7O09BQUE7SUE4Q3NCLHNCQUFJLDhDQUFVO2FBSXJDO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzFCLENBQUM7UUFqQkQ7Ozs7Ozs7Ozs7V0FVRzthQUNvQixVQUFlLFVBQW1CO1lBQ3ZELElBQUksQ0FBQyxXQUFXLEdBQUcsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEQsQ0FBQzs7O09BQUE7SUEvRnVCO1FBQXZCLEtBQUssQ0FBQyxlQUFlLENBQUM7Ozs2REFJdEI7SUFrQmdCO1FBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7OztzREFLZjtJQWdCaUI7UUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQztrQ0FBa0IsS0FBSzt5Q0FBTCxLQUFLO3VEQUl2QztJQWtCc0I7UUFBdEIsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7NkRBQW9CO0lBZXBCO1FBQXJCLEtBQUssQ0FBQyxhQUFhLENBQUM7OzREQUFrQjtJQWFoQjtRQUF0QixLQUFLLENBQUMsY0FBYyxDQUFDOzs7NERBRXJCO0lBT3dCO1FBQXhCLE1BQU0sQ0FBQyxlQUFlLENBQUM7O2dFQUE2RDtJQXZIMUUsc0JBQXNCO1FBRGxDLFNBQVMsRUFBRTtPQUNDLHNCQUFzQixDQXdIbEM7SUFBRCw2QkFBQztDQUFBLEFBeEhELElBd0hDO1NBeEhZLHNCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4gfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9TdGVwQ29tcG9uZW50IH0gZnJvbSAnLi9wby1zdGVwL3BvLXN0ZXAuY29tcG9uZW50JztcbmltcG9ydCB7IFBvU3RlcHBlckl0ZW0gfSBmcm9tICcuL3BvLXN0ZXBwZXItaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9TdGVwcGVyT3JpZW50YXRpb24gfSBmcm9tICcuL2VudW1zL3BvLXN0ZXBwZXItb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJTdGF0dXMgfSBmcm9tICcuL2VudW1zL3BvLXN0ZXBwZXItc3RhdHVzLmVudW0nO1xuXG5jb25zdCBwb1N0ZXBwZXJPcmllbnRhdGlvbkRlZmF1bHQgPSBQb1N0ZXBwZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gYHBvLXN0ZXBwZXJgIHBlcm1pdGUgcXVlIHVtIHByb2Nlc3NvIHNlamEgZGl2aWRpZG8gZW0gcGFzc29zIHBhcmEgcXVlIG8gdXN1w6FyaW8gbyByZWFsaXplXG4gKiBtYWlzIGZhY2lsbWVudGUuXG4gKlxuICogRXhpc3RlbSBkdWFzIGZvcm1hcyBkZSB1dGlsaXphw6fDo286XG4gKlxuICogMSAtIFVzYW5kbyBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSBwYXJhIHJlbmRlcml6YXIgZSBkZXNjcmV2ZXIgb3MgcGFzc29zLlxuICpcbiAqIDIgLSBBdHJhdsOpcyBkYSBwcm9wcmllZGFkZSBgcC1zdGVwc2AgcGFyYSBkZXNjcmV2ZXIgb3MgcGFzc29zIGRvIHByb2Nlc3NvLCBzZW5kbyByZXNwb25zYWJpbGlkYWRlIGRvIGRlc2Vudm9sdmVkb3IgbyBjb250cm9sZVxuICogZGUgcmVuZGVyaXphw6fDo28gZG8gcXVlIHNlcsOhIGV4aWJpZG8gYSBjYWRhICpzdGVwKiBhdGl2by5cbiAqXG4gKiBBdHJhdsOpcyBkZSBzdWFzIHByb3ByaWVkYWRlcywgw6kgcG9zc8OtdmVsIGRlZmluaXIgc2Ugc3VhIG9yaWVudGHDp8OjbyBzZXLDoSBob3Jpem9udGFsIG91IHZlcnRpY2FsLFxuICogYWzDqW0gZGEgcG9zc2liaWxpZGFkZSBkZSBhdW1lbnRhciBvIHRhbWFuaG8gZG9zICpzdGVwcyouXG4gKlxuICogVGFtYsOpbSDDqSBwb3Nzw612ZWwgbmF2ZWdhciBlbnRyZSBvcyAqc3RlcHMqIGF0cmF2w6lzIGRvIHRlY2xhZG8gdXRpbGl6YW5kbyBhIHRlY2xhICp0YWIqIGUsIHBhcmEgYXRpdmFyIG8gKnN0ZXAqIGVtIGZvY28gYmFzdGFcbiAqIHByZXNzaW9uYXIgYSB0ZWNsYSAqZW50ZXIqLiBBbMOpbSBkaXNzbywgw6kgcG9zc8OtdmVsIGF0aXZhciBhIGV4aWJpw6fDo28gZGUgw61jb25lcyBubyBsdWdhciBkZSBuw7ptZXJvcyBub3MgKnN0ZXBzKiBhdHJhdsOpcyBkYVxuICogcHJvcHJpZWRhZGUgW2BwLXN0ZXAtaWNvbnNgXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwcGVyI3N0ZXBJY29uc1Byb3BlcnR5KS5cbiAqXG4gKiAjIyMjIFV0aWxpemFuZG8gb3MgbcOpdG9kb3MgZG8gY29tcG9uZW50ZTpcbiAqXG4gKiBQYXJhIGFjZXNzYXIgb3MgbcOpdG9kb3MgZG8gY29tcG9uZW50ZSDDqSBuZWNlc3PDoXJpbyB0ZXIgYSByZWZlcsOqbmNpYSBkbyBtZXNtby5cbiAqXG4gKiBQb3IgZXhlbXBsbywgdXRpbGl6YW5kbyB1bSBbKipWaWV3Q2hpbGQqKl0oaHR0cHM6Ly9hbmd1bGFyLmlvL2FwaS9jb3JlL1ZpZXdDaGlsZCk6XG4gKlxuICogYGBgXG4gKiBAVmlld0NoaWxkKFBvU3RlcHBlckNvbXBvbmVudCkgcG9TdGVwcGVyQ29tcG9uZW50OiBQb1N0ZXBwZXJDb21wb25lbnQ7XG4gKiBgYGBcbiAqXG4gKiBFIHBhcmEgYWNlc3NhciBvIG3DqXRvZG86XG4gKlxuICogYGBgXG4gKiBwb1N0ZXBwZXJDb21wb25lbnQubmV4dCgpO1xuICogYGBgXG4gKlxuICogIyMjIyBCb2FzIHByw6F0aWNhc1xuICpcbiAqIC0gRXZpdGUgYGxhYmVsc2AgZXh0ZW5zb3MgcXVlIHF1ZWJyYW0gbyBsYXlvdXQgZG8gYHBvLXN0ZXBwZXJgLCB1c2UgYGxhYmVsc2AgZGlyZXRvcywgY3VydG9zIGUgaW50dWl0aXZvcy5cbiAqIC0gVXRpbGl6ZSBhcGVuYXMgdW0gYHBvLXN0ZXBwZXJgIHBvciBww6FnaW5hLlxuICovXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBjbGFzcyBQb1N0ZXBwZXJCYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfb3JpZW50YXRpb24/OiBQb1N0ZXBwZXJPcmllbnRhdGlvbiA9IHBvU3RlcHBlck9yaWVudGF0aW9uRGVmYXVsdDtcbiAgcHJpdmF0ZSBfc2VxdWVudGlhbD86IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIF9zdGVwOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIF9zdGVwczogQXJyYXk8UG9TdGVwcGVySXRlbT4gPSBbXTtcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgYSBvcmllbnRhw6fDo28gZGUgZXhpYmnDp8OjbyBkbyBgcG8tc3RlcHBlcmAuXG4gICAqXG4gICAqID4gVmVqYSBvcyB2YWxvcmVzIHbDoWxpZG9zIG5vICplbnVtKiBbUG9TdGVwcGVyT3JpZW50YXRpb25dKGRvY3VtZW50YXRpb24vcG8tc3RlcHBlciNzdGVwcGVyT3JpZW50YXRpb24pLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgUG9TdGVwcGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbGBcbiAgICovXG4gIEBJbnB1dCgncC1vcmllbnRhdGlvbicpIHNldCBvcmllbnRhdGlvbih2YWx1ZTogUG9TdGVwcGVyT3JpZW50YXRpb24pIHtcbiAgICB0aGlzLl9vcmllbnRhdGlvbiA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvU3RlcHBlck9yaWVudGF0aW9uKS5pbmNsdWRlcyh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogcG9TdGVwcGVyT3JpZW50YXRpb25EZWZhdWx0O1xuICB9XG5cbiAgZ2V0IG9yaWVudGF0aW9uKCk6IFBvU3RlcHBlck9yaWVudGF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZW50YXRpb247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb250cm9sYSBvIHBhc3NvIGF0dWFsIGRvIGBwby1zdGVwcGVyYC5cbiAgICpcbiAgICogPiBBbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlIGUgdGFtYsOpbSB1dGlsaXphciBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSxcbiAgICogbyB2YWxvciBkZXN0YSBwcm9wcmllZGFkZSBzZXLDoSBpZ25vcmFkYSBwZXJtYW5lY2VuZG8gYSBkZWZpbmnDp8OjbyBkbyBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgMWBcbiAgICovXG4gIEBJbnB1dCgncC1zdGVwJykgc2V0IHN0ZXAoc3RlcDogbnVtYmVyKSB7XG4gICAgaWYgKHN0ZXAgPj0gMSAmJiBzdGVwIDw9IHRoaXMuc3RlcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuX3N0ZXBzW3RoaXMuX3N0ZXAgLSAxXS5zdGF0dXMgPSBQb1N0ZXBwZXJTdGF0dXMuQWN0aXZlO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzdGVwKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3N0ZXA7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMaXN0YSBkb3MgaXRlbnMgZG8gc3RlcHBlci4gU2UgbyB2YWxvciBlc3RpdmVyIGluZGVmaW5pZG8gb3UgaW52w6FsaWRvLCBzZXLDoSBpbmljaWFsaXphZG8gY29tbyB1bSBhcnJheSB2YXppby5cbiAgICpcbiAgICogPiBBbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlIGUgdGFtYsOpbSB1dGlsaXphciBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSxcbiAgICogbyB2YWxvciBkZXN0YSBwcm9wcmllZGFkZSBzZXLDoSBpZ25vcmFkYSBwZXJtYW5lY2VuZG8gYSBkZWZpbmnDp8OjbyBkbyBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLlxuICAgKi9cbiAgQElucHV0KCdwLXN0ZXBzJykgc2V0IHN0ZXBzKHN0ZXBzOiBBcnJheTxQb1N0ZXBwZXJJdGVtPikge1xuICAgIHRoaXMuX3N0ZXBzID0gQXJyYXkuaXNBcnJheShzdGVwcykgPyBzdGVwcyA6IFtdO1xuICAgIHRoaXMuX3N0ZXBzLmZvckVhY2goc3RlcCA9PiAoc3RlcC5zdGF0dXMgPSBQb1N0ZXBwZXJTdGF0dXMuRGVmYXVsdCkpO1xuICAgIHRoaXMuc3RlcCA9IDE7XG4gIH1cblxuICBnZXQgc3RlcHMoKTogQXJyYXk8UG9TdGVwcGVySXRlbT4ge1xuICAgIHJldHVybiB0aGlzLl9zdGVwcztcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIDxhIGlkPVwic3RlcEljb25zUHJvcGVydHlcIj48L2E+XG4gICAqXG4gICAqIEhhYmlsaXRhIGEgZXhpYmnDp8OjbyBkZSDDrWNvbmUgYW8gaW52w6lzIGRlIG7Dum1lcm8gbm8gY2VudHJvIGRvIGPDrXJjdWxvIGRvcyAqc3RlcHMqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3Atc3RlcC1pY29ucycpIHN0ZXBJY29uczogYm9vbGVhbjtcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgbyB0YW1hbmhvIGRvcyAqc3RlcHMqIGVtICpwaXhlbHMqLCBwb3NzaWJpbGl0YW5kbyB1bSBtYWlvciBkZXN0YXF1ZS5cbiAgICpcbiAgICogTyB2YWxvciBpbmZvcm1hZG8gZGV2ZSBzZXIgZW50cmUgYDI0YCBlIGA2NGAuXG4gICAqXG4gICAqID4gVmFsb3JlcyBxdWUgbsOjbyBzZSBlbnF1YWRyYXJlbSBhIGVzdGEgcmVncmEgc2Vyw6NvIGlnbm9yYWRvcywgbWFudGVuZG8tc2UgbyB2YWxvciAqZGVmYXVsdCouXG4gICAqXG4gICAqIEBkZWZhdWx0IGAyNGBcbiAgICovXG4gIEBJbnB1dCgncC1zdGVwLXNpemUnKSBzdGVwU2l6ZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBzZSBvIGBwby1zdGVwcGVyYCBzZXLDoSBzZXF1ZW5jaWFsIG91IGFsZWF0w7NyaW8uXG4gICAqXG4gICAqID4gQW8gdXRpbGl6YXIgbyBjb21wb25lbnRlIFsqKnBvLXN0ZXAqKl0oL2RvY3VtZW50YXRpb24vcG8tc3RlcCksIG8gdmFsb3IgZGVzdGEgcHJvcHJpZWRhZGUgc2VtcHJlIHNlcsOhIHZlcmRhZGVpcm8uXG4gICAqXG4gICAqIEBkZWZhdWx0IGB0cnVlYFxuICAgKi9cbiAgQElucHV0KCdwLXNlcXVlbnRpYWwnKSBzZXQgc2VxdWVudGlhbChzZXF1ZW50aWFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2VxdWVudGlhbCA9IGNvbnZlcnRUb0Jvb2xlYW4oc2VxdWVudGlhbCk7XG4gIH1cblxuICBnZXQgc2VxdWVudGlhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc2VxdWVudGlhbDtcbiAgfVxuXG4gIC8qKiBBw6fDo28gcXVlIHNlcsOhIGV4ZWN1dGFkYSBxdWFuZG8gbyB1c3XDoXJpbyBtdWRhciBvIHBhc3NvIGRvIGBwby1zdGVwcGVyYC4gKi9cbiAgQE91dHB1dCgncC1jaGFuZ2Utc3RlcCcpIG9uQ2hhbmdlU3RlcCA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyIHwgUG9TdGVwQ29tcG9uZW50PigpO1xufVxuIl19