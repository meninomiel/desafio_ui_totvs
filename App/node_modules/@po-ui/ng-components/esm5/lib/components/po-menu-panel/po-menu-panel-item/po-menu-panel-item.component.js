import { __decorate, __metadata } from "tslib";
import { Component, Input } from '@angular/core';
import { PoMenuPanelItemsService } from '../services/po-menu-panel-items.service';
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente que implementa cada item do po-menu-panel.
 */
var PoMenuPanelItemComponent = /** @class */ (function () {
    function PoMenuPanelItemComponent(menuItemsService) {
        this.menuItemsService = menuItemsService;
    }
    PoMenuPanelItemComponent.prototype.ngOnDestroy = function () {
        this.itemsSubscription.unsubscribe();
    };
    PoMenuPanelItemComponent.prototype.ngOnInit = function () {
        // subscribe to menu component messages
        this.subscribeMenuClickedFromParent();
    };
    PoMenuPanelItemComponent.prototype.clickMenuItem = function (event) {
        if (!(event.ctrlKey || event.metaKey)) {
            event.preventDefault();
            // Emmit to parent
            this.menuItemsService.sendToParentMenuClicked(this.menuItemInternal);
        }
    };
    PoMenuPanelItemComponent.prototype.activateMenu = function (menu) {
        this.menuItemInternal.isSelected = this.menuItemInternal.id === menu.id;
    };
    PoMenuPanelItemComponent.prototype.processMenuItem = function (menu) {
        if (this.menuItemInternal.type === 'internalLink') {
            this.activateMenu(menu.active);
        }
    };
    PoMenuPanelItemComponent.prototype.subscribeMenuClickedFromParent = function () {
        var _this = this;
        this.itemsSubscription = this.menuItemsService.receiveFromParentMenuClicked().subscribe(function (menu) {
            _this.processMenuItem(menu);
        });
    };
    PoMenuPanelItemComponent.ctorParameters = function () { return [
        { type: PoMenuPanelItemsService }
    ]; };
    __decorate([
        Input('p-menu-item-internal'),
        __metadata("design:type", Object)
    ], PoMenuPanelItemComponent.prototype, "menuItemInternal", void 0);
    PoMenuPanelItemComponent = __decorate([
        Component({
            selector: 'po-menu-panel-item',
            template: "<!-- menu com link interno -->\n<a *ngIf=\"menuItemInternal.type === 'internalLink'\" [routerLink]=\"menuItemInternal.link\">\n  <ng-container *ngTemplateOutlet=\"menuItemTemplate\"></ng-container>\n</a>\n\n<!-- menu com link externo -->\n<a *ngIf=\"menuItemInternal.type === 'externalLink'\" [href]=\"menuItemInternal.link\">\n  <ng-container *ngTemplateOutlet=\"menuItemTemplate\"></ng-container>\n</a>\n\n<!-- menu sem link -->\n<a *ngIf=\"menuItemInternal.type === 'noLink'\" href=\"javascript:;\">\n  <ng-container *ngTemplateOutlet=\"menuItemTemplate\"></ng-container>\n</a>\n\n<ng-template #menuItemTemplate>\n  <div\n    class=\"po-menu-panel-item\"\n    p-tooltip-position=\"right\"\n    [class.po-menu-panel-item-selected]=\"menuItemInternal.isSelected\"\n    [p-tooltip]=\"menuItemInternal.label\"\n    (click)=\"clickMenuItem($event)\"\n  >\n    <span class=\"po-icon {{ menuItemInternal.icon }}\"></span>\n  </div>\n</ng-template>\n"
        }),
        __metadata("design:paramtypes", [PoMenuPanelItemsService])
    ], PoMenuPanelItemComponent);
    return PoMenuPanelItemComponent;
}());
export { PoMenuPanelItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbWVudS1wYW5lbC1pdGVtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwby11aS9uZy1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tbWVudS1wYW5lbC9wby1tZW51LXBhbmVsLWl0ZW0vcG8tbWVudS1wYW5lbC1pdGVtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQXFCLE1BQU0sZUFBZSxDQUFDO0FBS3BFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRWxGOzs7Ozs7R0FNRztBQUtIO0lBS0Usa0NBQW9CLGdCQUF5QztRQUF6QyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQXlCO0lBQUcsQ0FBQztJQUVqRSw4Q0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCwyQ0FBUSxHQUFSO1FBQ0UsdUNBQXVDO1FBQ3ZDLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFRCxnREFBYSxHQUFiLFVBQWMsS0FBSztRQUNqQixJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNyQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFdkIsa0JBQWtCO1lBQ2xCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUN0RTtJQUNILENBQUM7SUFFTywrQ0FBWSxHQUFwQixVQUFxQixJQUE2QjtRQUNoRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUMxRSxDQUFDO0lBRU8sa0RBQWUsR0FBdkIsVUFBd0IsSUFBSTtRQUMxQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssY0FBYyxFQUFFO1lBQ2pELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hDO0lBQ0gsQ0FBQztJQUVPLGlFQUE4QixHQUF0QztRQUFBLGlCQUlDO1FBSEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyw0QkFBNEIsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFBLElBQUk7WUFDMUYsS0FBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O2dCQWxDcUMsdUJBQXVCOztJQUY5QjtRQUE5QixLQUFLLENBQUMsc0JBQXNCLENBQUM7O3NFQUEyQztJQUg5RCx3QkFBd0I7UUFKcEMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLG9CQUFvQjtZQUM5Qiw2N0JBQWtEO1NBQ25ELENBQUM7eUNBTXNDLHVCQUF1QjtPQUxsRCx3QkFBd0IsQ0F3Q3BDO0lBQUQsK0JBQUM7Q0FBQSxBQXhDRCxJQXdDQztTQXhDWSx3QkFBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgUG9NZW51UGFuZWxJdGVtSW50ZXJuYWwgfSBmcm9tICcuL3BvLW1lbnUtcGFuZWwtaXRlbS1pbnRlcm5hbC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9NZW51UGFuZWxJdGVtc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9wby1tZW51LXBhbmVsLWl0ZW1zLnNlcnZpY2UnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcXVlIGltcGxlbWVudGEgY2FkYSBpdGVtIGRvIHBvLW1lbnUtcGFuZWwuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLW1lbnUtcGFuZWwtaXRlbScsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1tZW51LXBhbmVsLWl0ZW0uY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvTWVudVBhbmVsSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25Jbml0IHtcbiAgaXRlbXNTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblxuICBASW5wdXQoJ3AtbWVudS1pdGVtLWludGVybmFsJykgbWVudUl0ZW1JbnRlcm5hbDogUG9NZW51UGFuZWxJdGVtSW50ZXJuYWw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtZW51SXRlbXNTZXJ2aWNlOiBQb01lbnVQYW5lbEl0ZW1zU2VydmljZSkge31cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLml0ZW1zU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICAvLyBzdWJzY3JpYmUgdG8gbWVudSBjb21wb25lbnQgbWVzc2FnZXNcbiAgICB0aGlzLnN1YnNjcmliZU1lbnVDbGlja2VkRnJvbVBhcmVudCgpO1xuICB9XG5cbiAgY2xpY2tNZW51SXRlbShldmVudCkge1xuICAgIGlmICghKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIC8vIEVtbWl0IHRvIHBhcmVudFxuICAgICAgdGhpcy5tZW51SXRlbXNTZXJ2aWNlLnNlbmRUb1BhcmVudE1lbnVDbGlja2VkKHRoaXMubWVudUl0ZW1JbnRlcm5hbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhY3RpdmF0ZU1lbnUobWVudTogUG9NZW51UGFuZWxJdGVtSW50ZXJuYWwpIHtcbiAgICB0aGlzLm1lbnVJdGVtSW50ZXJuYWwuaXNTZWxlY3RlZCA9IHRoaXMubWVudUl0ZW1JbnRlcm5hbC5pZCA9PT0gbWVudS5pZDtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc01lbnVJdGVtKG1lbnUpIHtcbiAgICBpZiAodGhpcy5tZW51SXRlbUludGVybmFsLnR5cGUgPT09ICdpbnRlcm5hbExpbmsnKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlTWVudShtZW51LmFjdGl2ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVNZW51Q2xpY2tlZEZyb21QYXJlbnQoKSB7XG4gICAgdGhpcy5pdGVtc1N1YnNjcmlwdGlvbiA9IHRoaXMubWVudUl0ZW1zU2VydmljZS5yZWNlaXZlRnJvbVBhcmVudE1lbnVDbGlja2VkKCkuc3Vic2NyaWJlKG1lbnUgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTWVudUl0ZW0obWVudSk7XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==